  [1m[35m (115.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (329.2ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (119.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (314.3ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (116.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (307.2ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35m (116.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "dummy_test"[0m
  [1m[35m (328.1ms)[0m  [1m[35mCREATE DATABASE "dummy_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (47.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pg_trgm"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_addresses" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "c_addresses" ("id" serial NOT NULL PRIMARY KEY, "customer_id" integer, "name" character varying, "address_one" character varying, "address_two" character varying, "address_three" character varying, "city" character varying, "region" character varying, "postcode" character varying, "country_id" integer, "phone" character varying, "fax" character varying, "default" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "mobile" character varying, "first_name" character varying, "last_name" character varying)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_addresses_on_country_id" ON "c_addresses"  ("country_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_addresses_on_customer_id" ON "c_addresses"  ("customer_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_amazon_browse_nodes" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_amazon_browse_nodes" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "node_id" character varying, "node_path" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_amazon_browse_nodes_categorizations" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "c_amazon_browse_nodes_categorizations" ("id" serial NOT NULL PRIMARY KEY, "amazon_channel_id" integer, "amazon_browse_node_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_abnc_on_amazon_browse_node" ON "c_amazon_browse_nodes_categorizations"  ("amazon_browse_node_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_abnc_on_amazon_channel" ON "c_amazon_browse_nodes_categorizations"  ("amazon_channel_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_amazon_categories" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_amazon_categories" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_amazon_processing_queues" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_amazon_processing_queues" ("id" serial NOT NULL PRIMARY KEY, "feed_id" character varying, "feed_type" integer, "job_status" integer, "submitted_at" timestamp, "completed_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "failure_message" text, "feed_body" text)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_amazon_product_attributes" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_amazon_product_attributes" ("id" serial NOT NULL PRIMARY KEY, "product_type_id" integer, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_amazon_product_attributes_on_product_type_id" ON "c_amazon_product_attributes"  ("product_type_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_amazon_product_types" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_amazon_product_types" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "amazon_category_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_amazon_product_types_on_amazon_category_id" ON "c_amazon_product_types"  ("amazon_category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_apqs_products" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "c_apqs_products" ("id" serial NOT NULL PRIMARY KEY, "product_id" integer, "amazon_processing_queue_id" integer)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_apqs_products_on_amazon_processing_queue_id" ON "c_apqs_products"  ("amazon_processing_queue_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_apqs_products_on_product_id" ON "c_apqs_products"  ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_author_records" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_author_records" ("id" serial NOT NULL PRIMARY KEY, "user_id" integer, "authored_type" character varying, "authored_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_c_author_records_on_authored_type_and_authored_id" ON "c_author_records"  ("authored_type", "authored_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_author_records_on_user_id" ON "c_author_records"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_background_jobs" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_background_jobs" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "last_ran" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "message" character varying, "job_size" integer, "job_processed_count" integer, "status" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_blogs" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_blogs" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "url_alias" character varying, "preview_body" text)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_blogs_on_created_at" ON "c_blogs"  ("created_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_brands" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_brands" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "internal_id" character varying, "url" character varying, "image" character varying, "manufacturer" boolean, "supplier" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "featured" boolean DEFAULT 'f', "slug" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_bundle_items" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "c_bundle_items" ("id" serial NOT NULL PRIMARY KEY, "bundled_variant_id" integer, "variant_id" integer, "web_price_pennies" integer DEFAULT 0 NOT NULL, "web_price_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "quantity" integer, "ebay_price_pennies" integer DEFAULT 0 NOT NULL, "ebay_price_currency" character varying DEFAULT 'GBP' NOT NULL, "amazon_price_pennies" integer DEFAULT 0 NOT NULL, "amazon_price_currency" character varying DEFAULT 'GBP' NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_bundle_items_on_bundled_variant_id" ON "c_bundle_items"  ("bundled_variant_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_bundle_items_on_variant_id" ON "c_bundle_items"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_cart_item_option_variants" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "c_cart_item_option_variants" ("id" serial NOT NULL PRIMARY KEY, "price_id" integer, "cart_item_id" integer, "option_variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_cart_item_option_variants_on_cart_item_id" ON "c_cart_item_option_variants"  ("cart_item_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_cart_item_option_variants_on_option_variant_id" ON "c_cart_item_option_variants"  ("option_variant_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_cart_item_option_variants_on_price_id" ON "c_cart_item_option_variants"  ("price_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_cart_items" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "c_cart_items" ("id" serial NOT NULL PRIMARY KEY, "quantity" integer DEFAULT 0, "variant_id" integer, "cart_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "voucher_id" integer)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_cart_items_on_cart_id" ON "c_cart_items"  ("cart_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_cart_items_on_variant_id" ON "c_cart_items"  ("variant_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_cart_items_on_voucher_id" ON "c_cart_items"  ("voucher_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_carts" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_carts" ("id" serial NOT NULL PRIMARY KEY, "customer_id" integer, "order_id" integer, "anonymous" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "item_digest" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_carts_on_customer_id" ON "c_carts"  ("customer_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_carts_on_order_id" ON "c_carts"  ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_categories" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "c_categories" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "internal_id" character varying, "displayed_name" character varying, "body" text, "image" character varying, "parent_id" integer, "weight" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "featured" boolean DEFAULT 'f', "banner_url" character varying, "alt_tag" character varying, "slug" character varying, "in_menu" boolean DEFAULT 'f', "google_category" character varying, "amazon_product_type_id" integer, "ebay_category_id" integer, "template_group_id" integer)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_categories_on_amazon_product_type_id" ON "c_categories"  ("amazon_product_type_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_categories_on_parent_id" ON "c_categories"  ("parent_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_category_hierarchies" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "c_category_hierarchies" ("ancestor_id" integer NOT NULL, "descendant_id" integer NOT NULL, "generations" integer NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "category_anc_desc_idx" ON "c_category_hierarchies"  ("ancestor_id", "descendant_id", "generations")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "category_desc_idx" ON "c_category_hierarchies"  ("descendant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_category_property_keys" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "c_category_property_keys" ("id" serial NOT NULL PRIMARY KEY, "category_id" integer, "property_key_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_category_property_keys_on_category_id" ON "c_category_property_keys"  ("category_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_category_property_keys_on_property_key_id" ON "c_category_property_keys"  ("property_key_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_content_hierarchies" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "c_content_hierarchies" ("ancestor_id" integer NOT NULL, "descendant_id" integer NOT NULL, "generations" integer NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "content_anc_desc_idx" ON "c_content_hierarchies"  ("ancestor_id", "descendant_id", "generations")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "content_desc_idx" ON "c_content_hierarchies"  ("descendant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_contents" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_contents" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "content_type" integer, "template" character varying, "summary" text, "parent_id" integer, "weight" integer, "slug" character varying, "published" boolean DEFAULT 't', "protected" boolean DEFAULT 'f', "featured" boolean DEFAULT 'f', "home" boolean DEFAULT 'f', "created_by_id" integer, "updated_by_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "template_group_id" integer)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_contents_on_created_by_id" ON "c_contents"  ("created_by_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_contents_on_parent_id" ON "c_contents"  ("parent_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_contents_on_updated_by_id" ON "c_contents"  ("updated_by_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_countries" CASCADE[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "c_countries" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "iso2" character varying, "iso3" character varying, "tld" character varying, "currency" character varying, "eu" boolean DEFAULT 'f', "active" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "zone_id" integer, "numeric" character varying(3) DEFAULT '000' NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_custom_fields" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "c_custom_fields" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_custom_values" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_custom_values" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "custom_field_id" integer, "custom_recordable_type" character varying, "custom_recordable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "custom_field_index" ON "c_custom_values"  ("custom_recordable_type", "custom_recordable_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_customer_accounts" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "c_customer_accounts" ("id" serial NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "payment_type" integer DEFAULT 0 NOT NULL, "account_type" integer DEFAULT 0 NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_customer_accounts_on_email" ON "c_customer_accounts"  ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_customer_accounts_on_reset_password_token" ON "c_customer_accounts"  ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_customers" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_customers" ("id" serial NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "name" character varying, "company" character varying, "phone" character varying, "mobile" character varying, "fax" character varying, "thumbnail" character varying, "channel" integer, "amazon_email" character varying, "sparse" boolean DEFAULT 'f', "customer_account_id" integer, "sage_ref" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_customers_on_customer_account_id" ON "c_customers"  ("customer_account_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_customers_on_email" ON "c_customers"  ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_data_transfers" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_data_transfers" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "file" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "import_type" integer, "import_finished_at" timestamp, "import_started_at" timestamp, "import_at" timestamp)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_providers" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "c_delivery_providers" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_rule_gaps" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "c_delivery_rule_gaps" ("id" serial NOT NULL PRIMARY KEY, "rule_id" integer, "lower_bound" integer DEFAULT 0, "cost" decimal, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_delivery_rule_gaps_on_rule_id" ON "c_delivery_rule_gaps"  ("rule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_rules" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_delivery_rules" ("id" serial NOT NULL PRIMARY KEY, "service_id" integer, "zone_id" integer, "base_price" decimal, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "max_cart_price_pennies" integer, "max_cart_price_currency" character varying DEFAULT 'GBP' NOT NULL, "min_cart_price_pennies" integer DEFAULT 0 NOT NULL, "min_cart_price_currency" character varying DEFAULT 'GBP' NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_delivery_rules_on_service_id" ON "c_delivery_rules"  ("service_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_service_prices" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_delivery_service_prices" ("id" serial NOT NULL PRIMARY KEY, "min_weight" decimal, "max_weight" decimal, "country_ids" text, "price_pennies" integer DEFAULT 0 NOT NULL, "price_currency" character varying DEFAULT 'GBP' NOT NULL, "delivery_service_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "max_cart_price_pennies" integer, "max_cart_price_currency" character varying DEFAULT 'GBP' NOT NULL, "min_cart_price_pennies" integer DEFAULT 0 NOT NULL, "min_cart_price_currency" character varying DEFAULT 'GBP' NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_delivery_service_prices_on_delivery_service_id" ON "c_delivery_service_prices"  ("delivery_service_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_service_providers" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_delivery_service_providers" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_services" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_delivery_services" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "provider_id" integer, "channel" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "ebay_alias" character varying, "display_name" character varying, "tax_rate" decimal DEFAULT '20.0' NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_delivery_services_on_provider_id" ON "c_delivery_services"  ("provider_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_delivery_services_old" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_delivery_services_old" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "code" character varying, "active" boolean, "default" boolean, "delivery_service_provider_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "ebay_alias" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_delivery_services_old_on_delivery_service_provider_id" ON "c_delivery_services_old"  ("delivery_service_provider_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_documents" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_documents" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "document" character varying, "documentable_type" character varying, "documentable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_ebay_categories" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_ebay_categories" ("id" serial NOT NULL PRIMARY KEY, "best_offer_enabled" boolean, "auto_pay_enabled" boolean, "category_id" integer, "category_level" integer, "category_name" character varying, "category_parent_id" integer, "parent_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_ebay_category_hierarchies" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "c_ebay_category_hierarchies" ("ancestor_id" integer NOT NULL, "descendant_id" integer NOT NULL, "generations" integer NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "ebay_category_anc_desc_idx" ON "c_ebay_category_hierarchies"  ("ancestor_id", "descendant_id", "generations")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "ebay_category_desc_idx" ON "c_ebay_category_hierarchies"  ("descendant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_enquiries" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "c_enquiries" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "email" character varying, "body" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_images" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "c_images" ("id" serial NOT NULL PRIMARY KEY, "image" character varying, "alt" character varying, "caption" character varying, "imageable_id" integer, "imageable_type" character varying, "featured_image" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "preview_image" boolean DEFAULT 'f')[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_menu_item_hierarchies" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "c_menu_item_hierarchies" ("ancestor_id" integer NOT NULL, "descendant_id" integer NOT NULL, "generations" integer NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "menu_item_anc_desc_idx" ON "c_menu_item_hierarchies"  ("ancestor_id", "descendant_id", "generations")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "menu_item_desc_idx" ON "c_menu_item_hierarchies"  ("descendant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_menu_items" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_menu_items" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "link" character varying, "visible" boolean DEFAULT 't', "parent_id" integer, "weight" integer, "machine_name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "target" character varying, "content_id" integer)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_menu_items_on_content_id" ON "c_menu_items"  ("content_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_messages" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "c_messages" ("id" serial NOT NULL PRIMARY KEY, "subject" character varying, "body" text, "read" boolean DEFAULT 'f', "replied" boolean DEFAULT 'f', "source" integer, "sender_id" character varying, "message_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_non_deletes" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_non_deletes" ("id" serial NOT NULL PRIMARY KEY, "deleted" boolean DEFAULT 'f', "non_deletable_type" character varying, "non_deletable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_non_deletes_on_non_deletable_type_and_non_deletable_id" ON "c_non_deletes"  ("non_deletable_type", "non_deletable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_notifications" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_notifications" ("id" serial NOT NULL PRIMARY KEY, "notifiable_type" character varying, "notifiable_id" integer, "read" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_notifications_on_notifiable_type_and_notifiable_id" ON "c_notifications"  ("notifiable_type", "notifiable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_amazon_orders" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_order_amazon_orders" ("id" serial NOT NULL PRIMARY KEY, "amazon_id" character varying, "buyer_name" character varying, "buyer_email" character varying, "selected_shipping" character varying, "earliest_delivery_date" date, "latest_delivery_date" date, "body" text, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_amazon_orders_on_order_id" ON "c_order_amazon_orders"  ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_deliveries" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "c_order_deliveries" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "price_pennies" integer DEFAULT 0 NOT NULL, "price_currency" character varying DEFAULT 'GBP' NOT NULL, "processing_at" timestamp, "shipped_at" timestamp, "delivery_service_price_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "overridden" boolean DEFAULT 'f', "delivery_service_id" integer, "tax_rate" decimal DEFAULT '20.0' NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_deliveries_on_delivery_service_price_id" ON "c_order_deliveries"  ("delivery_service_price_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_ebay_orders" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_order_ebay_orders" ("id" serial NOT NULL PRIMARY KEY, "ebay_order_id" character varying, "buyer_username" character varying, "buyer_email" character varying, "transaction_id" text, "gateway_transaction_id" character varying, "body" text, "order_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "ebay_delivery_service" character varying, "seller_protection" boolean DEFAULT 'f', "sales_record_id" character varying, "checkout_message" text)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_ebay_orders_on_order_id" ON "c_order_ebay_orders"  ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_items" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_order_items" ("id" serial NOT NULL PRIMARY KEY, "order_id" integer, "product_id" integer, "name" character varying, "price_pennies" integer DEFAULT 0 NOT NULL, "price_currency" character varying DEFAULT 'GBP' NOT NULL, "quantity" integer DEFAULT 0, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "tax_rate" decimal, "sku" character varying, "ebay_order_line_item_id" character varying, "description" text, "ebay_sku" character varying, "voucher_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_items_on_order_id" ON "c_order_items"  ("order_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_items_on_product_id" ON "c_order_items"  ("product_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_items_on_voucher_id" ON "c_order_items"  ("voucher_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_notes" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_order_notes" ("id" serial NOT NULL PRIMARY KEY, "note" character varying, "order_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "created_by_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_notes_on_created_by_id" ON "c_order_notes"  ("created_by_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_notes_on_order_id" ON "c_order_notes"  ("order_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_notes_on_user_id" ON "c_order_notes"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_payments" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_order_payments" ("id" serial NOT NULL PRIMARY KEY, "amount_paid_pennies" integer DEFAULT 0 NOT NULL, "amount_paid_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "payable_type" character varying, "payable_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_payments_on_payable_type_and_payable_id" ON "c_order_payments"  ("payable_type", "payable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_sales" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "c_order_sales" ("id" serial NOT NULL PRIMARY KEY, "customer_id" integer, "shipping_address_id" integer, "billing_address_id" integer, "delivery_id" integer, "payment_id" integer, "status" integer DEFAULT 5, "channel" integer DEFAULT 0, "flag" integer DEFAULT 0, "checkout_notes" text, "recieved_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "ebay_order_id" character varying, "printed" boolean DEFAULT 'f', "name" character varying, "email" character varying, "phone" character varying, "mobile" character varying, "channel_hash" text, "body" json, "access_token" uuid, "export_status" integer, "export_error_log" text, "info" jsonb DEFAULT '{}' NOT NULL, "processed" boolean DEFAULT 'f')[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_sales_on_billing_address_id" ON "c_order_sales"  ("billing_address_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_sales_on_customer_id" ON "c_order_sales"  ("customer_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_sales_on_delivery_id" ON "c_order_sales"  ("delivery_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_sales_on_payment_id" ON "c_order_sales"  ("payment_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_order_sales_on_shipping_address_id" ON "c_order_sales"  ("shipping_address_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_order_trackings" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "c_order_trackings" ("id" serial NOT NULL PRIMARY KEY, "provider" character varying, "number" character varying, "delivery_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_page_hierarchies" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "c_page_hierarchies" ("ancestor_id" integer NOT NULL, "descendant_id" integer NOT NULL, "generations" integer NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "page_anc_desc_idx" ON "c_page_hierarchies"  ("ancestor_id", "descendant_id", "generations")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "page_desc_idx" ON "c_page_hierarchies"  ("descendant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_page_infos" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_page_infos" ("id" serial NOT NULL PRIMARY KEY, "title" character varying, "meta_description" text, "url_alias" character varying, "published" boolean DEFAULT 't', "protected" boolean DEFAULT 'f', "page_type" character varying, "page_id" integer, "home_page" boolean DEFAULT 'f', "order" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_page_infos_on_page_type_and_page_id" ON "c_page_infos"  ("page_type", "page_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_page_infos_on_url_alias" ON "c_page_infos"  ("url_alias")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_pages" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_pages" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "layout" character varying, "in_menu" boolean, "menu_item" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "url_alias" character varying, "preview_body" text, "parent_id" integer, "weight" integer)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_credits" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_payment_method_credits" ("id" serial NOT NULL PRIMARY KEY, "ip" character varying, "paid_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_manuals" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_payment_method_manuals" ("id" serial NOT NULL PRIMARY KEY, "body" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_payment_senses" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_payment_method_payment_senses" ("id" serial NOT NULL PRIMARY KEY, "ip" character varying, "cross_reference" character varying, "request_string" character varying, "response_string" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_paypal_expresses" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_payment_method_paypal_expresses" ("id" serial NOT NULL PRIMARY KEY, "payer_id" character varying, "ip" character varying, "payment_token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_sagepays" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_payment_method_sagepays" ("id" serial NOT NULL PRIMARY KEY, "ip" character varying, "card_identifier" character varying, "merchant_session_key" character varying, "transaction_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_v12_finances" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_payment_method_v12_finances" ("id" serial NOT NULL PRIMARY KEY, "ip" character varying, "application_id" character varying, "application_guid" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "last_status" integer DEFAULT 0)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_worldpay_business_gateways" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_payment_method_worldpay_business_gateways" ("id" serial NOT NULL PRIMARY KEY, "ip" character varying, "transaction_id" character varying, "response_body" json, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_payment_method_worldpays" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "c_payment_method_worldpays" ("id" serial NOT NULL PRIMARY KEY, "ip" character varying, "payment_token" character varying, "order_code" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_permission_subjects" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_permission_subjects" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "subject_type" character varying, "subject_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_permissions" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "c_permissions" ("id" serial NOT NULL PRIMARY KEY, "role_id" integer, "permission_subject_id" integer, "read" boolean, "new" boolean, "edit" boolean, "remove" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_c_permissions_on_permission_subject_id" ON "c_permissions"  ("permission_subject_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_permissions_on_role_id" ON "c_permissions"  ("role_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_prices" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "c_prices" ("id" serial NOT NULL PRIMARY KEY, "without_tax_pennies" integer DEFAULT 0 NOT NULL, "without_tax_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "with_tax_pennies" integer DEFAULT 0 NOT NULL, "with_tax_currency" character varying DEFAULT 'GBP' NOT NULL, "tax_rate" decimal DEFAULT '20.0', "override" boolean DEFAULT 'f')[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_add_on_products" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "c_product_add_on_products" ("id" serial NOT NULL PRIMARY KEY, "main_id" integer, "add_on_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_add_on_products_on_add_on_id" ON "c_product_add_on_products"  ("add_on_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_add_on_products_on_main_id" ON "c_product_add_on_products"  ("main_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_answers" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "c_product_answers" ("id" serial NOT NULL PRIMARY KEY, "question_id" integer, "body" text, "sent" boolean DEFAULT 'f', "external" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_answers_on_question_id" ON "c_product_answers"  ("question_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_barcodes" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_product_barcodes" ("id" serial NOT NULL PRIMARY KEY, "value" character varying NOT NULL, "symbology" integer NOT NULL, "variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_product_barcodes_on_value_and_symbology" ON "c_product_barcodes"  ("value", "symbology")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_barcodes_on_variant_id" ON "c_product_barcodes"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_categorizations" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "c_product_categorizations" ("id" serial NOT NULL PRIMARY KEY, "product_id" integer, "category_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_categorizations_on_category_id" ON "c_product_categorizations"  ("category_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_categorizations_on_product_id" ON "c_product_categorizations"  ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_amazon_bullet_points" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_product_channel_amazon_bullet_points" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "product_channel_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_amzn_bullet_points_on_product_channel_id" ON "c_product_channel_amazon_bullet_points"  ("product_channel_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_amazon_search_terms" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "c_product_channel_amazon_search_terms" ("id" serial NOT NULL PRIMARY KEY, "term" character varying, "product_channel_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_amzn_search_terms_on_product_channel_id" ON "c_product_channel_amazon_search_terms"  ("product_channel_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_amazons" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "c_product_channel_amazons" ("id" serial NOT NULL PRIMARY KEY, "master_id" integer, "name" character varying, "recommended_browse_nodes" text, "description" text, "features" text, "key_product_features" text, "condition_note" text, "current_price_pennies" integer DEFAULT 0 NOT NULL, "current_price_currency" character varying DEFAULT 'GBP' NOT NULL, "de_price_pennies" integer DEFAULT 0 NOT NULL, "de_price_currency" character varying DEFAULT 'GBP' NOT NULL, "es_price_pennies" integer DEFAULT 0 NOT NULL, "es_price_currency" character varying DEFAULT 'GBP' NOT NULL, "fr_price_pennies" integer DEFAULT 0 NOT NULL, "fr_price_currency" character varying DEFAULT 'GBP' NOT NULL, "it_price_pennies" integer DEFAULT 0 NOT NULL, "it_price_currency" character varying DEFAULT 'GBP' NOT NULL, "shipping_cost_pennies" integer DEFAULT 0 NOT NULL, "shipping_cost_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "product_type_id" integer, "amazon_category_id" integer, "last_push_success" boolean, "last_push_body" json)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_amazons_on_amazon_category_id" ON "c_product_channel_amazons"  ("amazon_category_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_amazons_on_master_id" ON "c_product_channel_amazons"  ("master_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_amazons_on_product_type_id" ON "c_product_channel_amazons"  ("product_type_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_ebay_ship_to_locations" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "c_product_channel_ebay_ship_to_locations" ("id" serial NOT NULL PRIMARY KEY, "ebay_id" integer, "location" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_ebay_ship_to_locations_on_ebay_id" ON "c_product_channel_ebay_ship_to_locations"  ("ebay_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_ebay_shipping_services" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "c_product_channel_ebay_shipping_services" ("id" serial NOT NULL PRIMARY KEY, "ebay_id" integer, "delivery_service_id" integer, "international" boolean DEFAULT 'f', "cost_pennies" integer DEFAULT 0 NOT NULL, "cost_currency" character varying DEFAULT 'GBP' NOT NULL, "additional_cost_pennies" integer DEFAULT 0 NOT NULL, "additional_cost_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "ship_time_max" integer, "ship_time_min" integer, "expedited" boolean DEFAULT 'f')[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_ebays" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "c_product_channel_ebays" ("id" serial NOT NULL PRIMARY KEY, "master_id" integer, "name" character varying, "sub_title" character varying, "ebay_category_id" integer, "description" text, "ended" boolean DEFAULT 'f', "condition" integer, "condition_description" character varying, "country" character varying, "dispatch_time" integer, "duration" character varying, "start_price_pennies" integer DEFAULT 0 NOT NULL, "start_price_currency" character varying DEFAULT 'GBP' NOT NULL, "payment_method_paypal" boolean, "payment_method_postal" boolean, "payment_method_cheque" boolean, "payment_method_other" boolean, "payment_method_cc" boolean, "payment_method_escrow" boolean, "postcode" character varying DEFAULT 'NR24AQ', "domestic_shipping_type" character varying, "pickup_in_store" boolean, "click_collect_collection_available" boolean, "returns_accepted" boolean, "restocking_fee_value_option" character varying, "returns_description" character varying, "refund_option" character varying, "returns_within" character varying, "returns_cost_paid_by" character varying, "warranty_offered" boolean, "warranty_duration" character varying, "warranty_type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "sold" boolean DEFAULT 'f', "shop_wrap" text, "last_sync_time" timestamp, "global_shipping" boolean DEFAULT 'f', "payment_method_money_order" boolean DEFAULT 'f', "no_shipping_options" boolean DEFAULT 'f')[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_ebays_on_ebay_category_id" ON "c_product_channel_ebays"  ("ebay_category_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_ebays_on_master_id" ON "c_product_channel_ebays"  ("master_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_images" CASCADE[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "c_product_channel_images" ("id" serial NOT NULL PRIMARY KEY, "channel_type" character varying, "channel_id" integer, "image_id" integer, "name" character varying, "order" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_images_on_channel_type_and_channel_id" ON "c_product_channel_images"  ("channel_type", "channel_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_images_on_image_id" ON "c_product_channel_images"  ("image_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_channel_webs" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_product_channel_webs" ("id" serial NOT NULL PRIMARY KEY, "master_id" integer, "name" character varying, "description" text, "features" text, "specification" text, "current_price_pennies" integer, "current_price_currency" character varying DEFAULT 'GBP' NOT NULL, "discount_price_pennies" integer, "discount_price_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "subtitle" character varying, "sub_title" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_channel_webs_on_master_id" ON "c_product_channel_webs"  ("master_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_images" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_product_images" ("id" serial NOT NULL PRIMARY KEY, "master_id" integer, "variant_id" integer, "image" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_images_on_master_id" ON "c_product_images"  ("master_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_images_on_variant_id" ON "c_product_images"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_masters" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_product_masters" ("id" serial NOT NULL PRIMARY KEY, "brand_id" integer, "manufacturer_id" integer, "condition" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "tax_rate" decimal DEFAULT '20.0')[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_masters_on_brand_id" ON "c_product_masters"  ("brand_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_offers" CASCADE[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "c_product_offers" ("id" serial NOT NULL PRIMARY KEY, "variant_id" integer, "price_pennies" integer DEFAULT 0 NOT NULL, "price_currency" character varying DEFAULT 'GBP' NOT NULL, "quantity" integer, "sender_email" character varying, "status" integer, "source" integer, "sender_id" character varying, "offer_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_offers_on_variant_id" ON "c_product_offers"  ("variant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_option_variants" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_product_option_variants" ("id" serial NOT NULL PRIMARY KEY, "option_id" integer, "variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_option_variants_on_option_id" ON "c_product_option_variants"  ("option_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_option_variants_on_variant_id" ON "c_product_option_variants"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_options" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_product_options" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "price_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_options_on_price_id" ON "c_product_options"  ("price_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_price_matches" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_product_price_matches" ("id" serial NOT NULL PRIMARY KEY, "competitor" integer, "variant_id" integer, "url" character varying, "price_pennies" integer DEFAULT 0 NOT NULL, "price_currency" character varying DEFAULT 'GBP' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_price_matches_on_variant_id" ON "c_product_price_matches"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_product_relations" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "c_product_product_relations" ("id" serial NOT NULL PRIMARY KEY, "product_id" integer, "related_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_product_product_relations_on_product_id_and_related_id" ON "c_product_product_relations"  ("product_id", "related_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_product_relations_on_product_id" ON "c_product_product_relations"  ("product_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_product_relations_on_related_id" ON "c_product_product_relations"  ("related_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_property_keys" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_product_property_keys" ("id" serial NOT NULL PRIMARY KEY, "key" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "display" boolean DEFAULT 't')[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_property_values" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_product_property_values" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "property_key_id" integer, "variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "property_value_validation_index" ON "c_product_property_values"  ("property_key_id", "value", "variant_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_property_values_on_property_key_id" ON "c_product_property_values"  ("property_key_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_property_values_on_variant_id" ON "c_product_property_values"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_questions" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "c_product_questions" ("id" serial NOT NULL PRIMARY KEY, "variant_id" integer, "subject" character varying, "body" text, "source" integer, "sender_id" character varying, "sender_email" character varying, "message_id" character varying, "answered" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_questions_on_message_id" ON "c_product_questions"  ("message_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_questions_on_variant_id" ON "c_product_questions"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_reservations" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_product_reservations" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "email" character varying, "phone" character varying, "product_variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_variant_images" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "c_product_variant_images" ("id" serial NOT NULL PRIMARY KEY, "variant_id" integer, "image_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variant_images_on_image_id" ON "c_product_variant_images"  ("image_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variant_images_on_variant_id" ON "c_product_variant_images"  ("variant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_variant_vouchers" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "c_product_variant_vouchers" ("id" serial NOT NULL PRIMARY KEY, "voucher_id" integer, "variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variant_vouchers_on_variant_id" ON "c_product_variant_vouchers"  ("variant_id")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variant_vouchers_on_voucher_id" ON "c_product_variant_vouchers"  ("voucher_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_variants" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "c_product_variants" ("id" serial NOT NULL PRIMARY KEY, "master_id" integer, "country_of_manufacture_id" integer, "name" character varying, "description" text, "sku" character varying, "asin" character varying, "mpn" character varying, "cost_price_pennies" integer DEFAULT 0 NOT NULL, "cost_price_currency" character varying DEFAULT 'GBP' NOT NULL, "rrp_pennies" integer DEFAULT 0 NOT NULL, "rrp_currency" character varying DEFAULT 'GBP' NOT NULL, "weight" decimal DEFAULT '0.0', "weight_unit" character varying DEFAULT 'KG', "x_dimension" decimal DEFAULT '0.0', "y_dimension" decimal DEFAULT '0.0', "z_dimension" decimal DEFAULT '0.0', "dimension_unit" character varying DEFAULT 'M', "current_stock" integer DEFAULT 0, "package_quantity" integer DEFAULT 1, "discontinued" boolean DEFAULT 'f', "published" boolean DEFAULT 't', "published_web" boolean DEFAULT 't', "published_ebay" boolean DEFAULT 'f', "published_amazon" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "featured" boolean DEFAULT 'f', "status" integer DEFAULT 0, "slug" character varying, "product_tag" integer DEFAULT 1, "delivery_override_pennies" integer DEFAULT 0 NOT NULL, "delivery_override_currency" character varying DEFAULT 'GBP' NOT NULL, "sticky" boolean DEFAULT 'f', "web_price_id" integer, "amazon_price_id" integer, "ebay_price_id" integer, "retail_price_id" integer, "manufacturer_product_url" character varying, "main_variant" boolean, "has_been_pushed_to_amazon" boolean DEFAULT 'f', "has_been_pushed_to_ebay" boolean DEFAULT 'f', "item_id" character varying, "ebay_last_push_body" json, "ebay_last_push_success" boolean, "has_delivery_override" boolean DEFAULT 'f', "oe_number" character varying, "cache_web_price_pennies" integer DEFAULT 0 NOT NULL, "cache_web_price_currency" character varying DEFAULT 'GBP' NOT NULL, "cache_ebay_price_pennies" integer DEFAULT 0 NOT NULL, "cache_ebay_price_currency" character varying DEFAULT 'GBP' NOT NULL, "cache_amazon_price_pennies" integer DEFAULT 0 NOT NULL, "cache_amazon_price_currency" character varying DEFAULT 'GBP' NOT NULL, "cache_image_id" integer, "bundle" boolean DEFAULT 'f', "info" jsonb DEFAULT '{}' NOT NULL, "ebay_sku" character varying, "display_in_lists" boolean DEFAULT 't', "import_dump" text, "image_variant_id" integer)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_amazon_price_id" ON "c_product_variants"  ("amazon_price_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_cache_image_id" ON "c_product_variants"  ("cache_image_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_country_of_manufacture_id" ON "c_product_variants"  ("country_of_manufacture_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_ebay_price_id" ON "c_product_variants"  ("ebay_price_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_master_id" ON "c_product_variants"  ("master_id")[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_retail_price_id" ON "c_product_variants"  ("retail_price_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_product_variants_on_sku" ON "c_product_variants"  ("sku")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_variants_on_web_price_id" ON "c_product_variants"  ("web_price_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_vouchers" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "c_product_vouchers" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "code" character varying NOT NULL, "restricted" boolean DEFAULT 'f', "discount_multiplier" decimal DEFAULT '1.0', "flat_discount_pennies" integer DEFAULT 0 NOT NULL, "flat_discount_currency" character varying DEFAULT 'GBP' NOT NULL, "per_item_discount_pennies" integer DEFAULT 0 NOT NULL, "per_item_discount_currency" character varying DEFAULT 'GBP' NOT NULL, "minimum_cart_value_pennies" integer DEFAULT 0 NOT NULL, "minimum_cart_value_currency" character varying DEFAULT 'GBP' NOT NULL, "start_time" timestamp, "end_time" timestamp, "active" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_product_vouchers_on_code" ON "c_product_vouchers"  ("code")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_product_wraps" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_product_wraps" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "wrap" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_projects" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_projects" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "url_alias" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_redirects" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_redirects" ("id" serial NOT NULL PRIMARY KEY, "old_url" character varying, "new_url" character varying, "last_used" timestamp, "used_counter" integer DEFAULT 0, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_roles" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_roles" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_sales_highlights" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_sales_highlights" ("id" serial NOT NULL PRIMARY KEY, "image" character varying, "url" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "color" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_setting_groups" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_setting_groups" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "machine_name" character varying, "body" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_setting_type_booleans" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "c_setting_type_booleans" ("id" serial NOT NULL PRIMARY KEY, "value" boolean, "default" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_setting_type_images" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "c_setting_type_images" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "default" character varying, "default_string" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_setting_type_strings" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_setting_type_strings" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "default" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_setting_type_texts" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_setting_type_texts" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "default" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_settings" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_settings" ("id" serial NOT NULL PRIMARY KEY, "key" character varying, "data_type" character varying, "data_id" integer, "setting_group_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_settings_on_data_id_and_data_type" ON "c_settings"  ("data_id", "data_type")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_settings_on_data_type_and_data_id" ON "c_settings"  ("data_type", "data_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_settings_on_key" ON "c_settings"  ("key")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_settings_on_setting_group_id" ON "c_settings"  ("setting_group_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_slides" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "c_slides" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "url" character varying, "image" character varying, "slideshow_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "body" text)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_c_slides_on_slideshow_id" ON "c_slides"  ("slideshow_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_slideshows" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_slideshows" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "machine_name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "body" text)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_team_members" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_team_members" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "role" character varying, "image" character varying, "body" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_template_blocks" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "c_template_blocks" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "body" text, "image" character varying, "url" character varying, "size" integer, "kind_of" integer, "region_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_template_groups" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "c_template_groups" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_template_regions" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_template_regions" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "group_id" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_testimonials" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_testimonials" ("id" serial NOT NULL PRIMARY KEY, "quote" text, "author" character varying, "project_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "title" character varying, "content_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_testimonials_on_content_id" ON "c_testimonials"  ("content_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_user_roles" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "c_user_roles" ("id" serial NOT NULL PRIMARY KEY, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_user_roles_on_role_id" ON "c_user_roles"  ("role_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_c_user_roles_on_user_id" ON "c_user_roles"  ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_users" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "c_users" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "cd2admin" boolean DEFAULT 'f')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_users_on_email" ON "c_users"  ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_c_users_on_reset_password_token" ON "c_users"  ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_weights" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "c_weights" ("id" serial NOT NULL PRIMARY KEY, "value" integer, "orderable_type" character varying, "orderable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_c_weights_on_orderable_type_and_orderable_id" ON "c_weights"  ("orderable_type", "orderable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_wishlist_items" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "c_wishlist_items" ("id" serial NOT NULL PRIMARY KEY, "customer_id" integer, "variant_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "c_zones" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "c_zones" ("id" serial NOT NULL PRIMARY KEY, "name" character varying)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "ckeditor_assets" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" serial NOT NULL PRIMARY KEY, "data_file_name" character varying NOT NULL, "data_content_type" character varying, "data_file_size" integer, "assetable_id" integer, "assetable_type" character varying(30), "type" character varying(30), "width" integer, "height" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "idx_ckeditor_assetable" ON "ckeditor_assets"  ("assetable_type", "assetable_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "idx_ckeditor_assetable_type" ON "ckeditor_assets"  ("assetable_type", "type", "assetable_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "recommendation_documents" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "recommendation_documents" ("id" bigserial primary key, "recommendable_type" character varying, "recommendable_id" bigint, "static_tags" jsonb DEFAULT '{}' NOT NULL, "tags_cache" jsonb DEFAULT '{}' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_recommendation_documents_on_recommendable" ON "recommendation_documents"  ("recommendable_id", "recommendable_type")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_recommendation_documents_on_static_tags" ON "recommendation_documents" USING gin ("static_tags")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_recommendation_documents_on_tags_cache" ON "recommendation_documents" USING gin ("tags_cache")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "recommendation_votes" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "recommendation_votes" ("id" bigserial primary key, "voter_type" character varying, "voter_id" bigint, "votable_type" character varying, "votable_id" bigint, "weight" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_recommendation_votes_on_votable_type_and_votable_id" ON "recommendation_votes"  ("votable_type", "votable_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "one_vote_per_voter_per_votable" ON "recommendation_votes"  ("voter_id", "voter_type", "votable_id", "votable_type")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_recommendation_votes_on_voter_type_and_voter_id" ON "recommendation_votes"  ("voter_type", "voter_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "version_associations" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "version_associations" ("id" serial NOT NULL PRIMARY KEY, "version_id" integer, "foreign_key_name" character varying NOT NULL, "foreign_key_id" integer)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_version_associations_on_foreign_key" ON "version_associations"  ("foreign_key_name", "foreign_key_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_version_associations_on_version_id" ON "version_associations"  ("version_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "versions" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "versions" ("id" serial NOT NULL PRIMARY KEY, "item_type" character varying NOT NULL, "item_id" integer NOT NULL, "event" character varying NOT NULL, "whodunnit" character varying, "object" jsonb, "object_changes" jsonb, "created_at" timestamp, "transaction_id" integer)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_versions_on_item_type_and_item_id" ON "versions"  ("item_type", "item_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_versions_on_transaction_id" ON "versions"  ("transaction_id")[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "c_cart_item_option_variants" ADD CONSTRAINT "fk_rails_dea17a54b1"
FOREIGN KEY ("cart_item_id")
  REFERENCES "c_cart_items" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "c_cart_item_option_variants" ADD CONSTRAINT "fk_rails_67a88e3c5c"
FOREIGN KEY ("price_id")
  REFERENCES "c_prices" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "c_cart_item_option_variants" ADD CONSTRAINT "fk_rails_b02e0306ce"
FOREIGN KEY ("option_variant_id")
  REFERENCES "c_product_option_variants" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "c_cart_items" ADD CONSTRAINT "fk_rails_7e525ccdac"
FOREIGN KEY ("voucher_id")
  REFERENCES "c_product_vouchers" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "c_carts" ADD CONSTRAINT "fk_rails_1c371b837d"
FOREIGN KEY ("customer_id")
  REFERENCES "c_customers" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "c_categories" ADD CONSTRAINT "fk_rails_24b931c481"
FOREIGN KEY ("parent_id")
  REFERENCES "c_categories" ("id")
 ON DELETE SET NULL[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "c_menu_items" ADD CONSTRAINT "fk_rails_fd17d83f0d"
FOREIGN KEY ("parent_id")
  REFERENCES "c_menu_items" ("id")
 ON DELETE SET NULL[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "c_order_items" ADD CONSTRAINT "fk_rails_085b29f257"
FOREIGN KEY ("voucher_id")
  REFERENCES "c_product_vouchers" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "c_product_answers" ADD CONSTRAINT "fk_rails_829c8df6f7"
FOREIGN KEY ("question_id")
  REFERENCES "c_product_questions" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "c_product_channel_amazons" ADD CONSTRAINT "fk_rails_0adf75be32"
FOREIGN KEY ("master_id")
  REFERENCES "c_product_masters" ("id")
 ON DELETE RESTRICT[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "c_product_channel_ebays" ADD CONSTRAINT "fk_rails_5e9958f205"
FOREIGN KEY ("master_id")
  REFERENCES "c_product_masters" ("id")
 ON DELETE RESTRICT[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "c_product_channel_images" ADD CONSTRAINT "fk_rails_f34a77650b"
FOREIGN KEY ("image_id")
  REFERENCES "c_product_images" ("id")
 ON DELETE SET NULL[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "c_product_channel_webs" ADD CONSTRAINT "fk_rails_aa33c3032d"
FOREIGN KEY ("master_id")
  REFERENCES "c_product_masters" ("id")
 ON DELETE RESTRICT[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "c_product_images" ADD CONSTRAINT "fk_rails_41437a6a51"
FOREIGN KEY ("master_id")
  REFERENCES "c_product_masters" ("id")
 ON DELETE CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "c_product_images" ADD CONSTRAINT "fk_rails_32fbf7a6d3"
FOREIGN KEY ("variant_id")
  REFERENCES "c_product_variants" ("id")
 ON DELETE SET NULL[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "c_product_masters" ADD CONSTRAINT "fk_rails_d69198ab2b"
FOREIGN KEY ("brand_id")
  REFERENCES "c_brands" ("id")
 ON DELETE SET NULL[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "c_product_offers" ADD CONSTRAINT "fk_rails_0770636efe"
FOREIGN KEY ("variant_id")
  REFERENCES "c_product_variants" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "c_product_option_variants" ADD CONSTRAINT "fk_rails_eab328a4f4"
FOREIGN KEY ("option_id")
  REFERENCES "c_product_options" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "c_product_option_variants" ADD CONSTRAINT "fk_rails_d6cc8fedee"
FOREIGN KEY ("variant_id")
  REFERENCES "c_product_variants" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "c_product_options" ADD CONSTRAINT "fk_rails_39ce0a770c"
FOREIGN KEY ("price_id")
  REFERENCES "c_prices" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "c_product_questions" ADD CONSTRAINT "fk_rails_951ee11438"
FOREIGN KEY ("variant_id")
  REFERENCES "c_product_variants" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "c_product_variant_vouchers" ADD CONSTRAINT "fk_rails_f0695d080c"
FOREIGN KEY ("variant_id")
  REFERENCES "c_product_variants" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "c_product_variant_vouchers" ADD CONSTRAINT "fk_rails_03d9e75281"
FOREIGN KEY ("voucher_id")
  REFERENCES "c_product_vouchers" ("id")
[0m
  [1m[35m (5.6ms)[0m  [1m[35mALTER TABLE "c_product_variants" ADD CONSTRAINT "fk_rails_b9bbf4b266"
FOREIGN KEY ("country_of_manufacture_id")
  REFERENCES "c_countries" ("id")
 ON DELETE RESTRICT[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "c_product_variants" ADD CONSTRAINT "fk_rails_cf6471fee2"
FOREIGN KEY ("master_id")
  REFERENCES "c_product_masters" ("id")
 ON DELETE CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170907104651)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170905145408),
(20170905145623),
(20170907104650);

[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-09-07 10:47:16.759963"], ["updated_at", "2017-09-07 10:47:16.759963"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.871644"], ["updated_at", "2017-09-07 10:47:16.871644"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:47:16.920161"], ["updated_at", "2017-09-07 10:47:16.920161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.929031"], ["updated_at", "2017-09-07 10:47:16.929031"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.936576"], ["updated_at", "2017-09-07 10:47:16.936576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.939687"], ["updated_at", "2017-09-07 10:47:16.939687"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.942550"], ["updated_at", "2017-09-07 10:47:16.942550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.945822"], ["updated_at", "2017-09-07 10:47:16.945822"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.948996"], ["updated_at", "2017-09-07 10:47:16.948996"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.952257"], ["updated_at", "2017-09-07 10:47:16.952257"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.955731"], ["updated_at", "2017-09-07 10:47:16.955731"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.959476"], ["updated_at", "2017-09-07 10:47:16.959476"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.964441"], ["updated_at", "2017-09-07 10:47:16.964441"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.967596"], ["updated_at", "2017-09-07 10:47:16.967596"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.970510"], ["updated_at", "2017-09-07 10:47:16.970510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.973521"], ["updated_at", "2017-09-07 10:47:16.973521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.976416"], ["updated_at", "2017-09-07 10:47:16.976416"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.979735"], ["updated_at", "2017-09-07 10:47:16.979735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.983268"], ["updated_at", "2017-09-07 10:47:16.983268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.986471"], ["updated_at", "2017-09-07 10:47:16.986471"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.989628"], ["updated_at", "2017-09-07 10:47:16.989628"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.992796"], ["updated_at", "2017-09-07 10:47:16.992796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:47:16.996437"], ["updated_at", "2017-09-07 10:47:16.996437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:03.949134"], ["updated_at", "2017-09-07 10:48:03.949134"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Load (1.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "articles"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "Article"]]
  [1m[36mArticle Load (1.7ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "articles"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "Article"]]
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "articles"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "Article"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:03.979524"], ["updated_at", "2017-09-07 10:48:03.979524"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "users"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "User"]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "users"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "User"]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "users"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "User"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.000156"], ["updated_at", "2017-09-07 10:48:04.000156"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 23], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 23], ["created_at", "2017-09-07 10:48:04.023324"], ["updated_at", "2017-09-07 10:48:04.023324"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.026142"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.030528"], ["updated_at", "2017-09-07 10:48:04.030528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 24], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 24], ["created_at", "2017-09-07 10:48:04.033180"], ["updated_at", "2017-09-07 10:48:04.033180"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 10:48:04.034805"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.037566"], ["updated_at", "2017-09-07 10:48:04.037566"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 25], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 25], ["created_at", "2017-09-07 10:48:04.040351"], ["updated_at", "2017-09-07 10:48:04.040351"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.042187"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 10:48:04.044167"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.047222"], ["updated_at", "2017-09-07 10:48:04.047222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 26], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 26], ["created_at", "2017-09-07 10:48:04.049755"], ["updated_at", "2017-09-07 10:48:04.049755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.051485"], ["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 10:48:04.053625"], ["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.056364"], ["updated_at", "2017-09-07 10:48:04.056364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 27], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 27], ["created_at", "2017-09-07 10:48:04.058905"], ["updated_at", "2017-09-07 10:48:04.058905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 10:48:04.060478"], ["id", 5]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.065181"], ["updated_at", "2017-09-07 10:48:04.065181"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 28], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 28], ["created_at", "2017-09-07 10:48:04.067778"], ["updated_at", "2017-09-07 10:48:04.067778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.069396"], ["id", 6]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.071212"], ["updated_at", "2017-09-07 10:48:04.071212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 28 LIMIT $3[0m  [["voter_id", 3], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 3], ["voter_type", "User"], ["votable_id", 28], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 3], ["votable_type", "Article"], ["votable_id", 28], ["weight", 1], ["created_at", "2017-09-07 10:48:04.091284"], ["updated_at", "2017-09-07 10:48:04.091284"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 3], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 3], ["created_at", "2017-09-07 10:48:04.095812"], ["updated_at", "2017-09-07 10:48:04.095812"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.097062"], ["id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.5ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 28 LIMIT $3[0m  [["voter_id", 3], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 3], ["id", 1], ["voter_type", "User"], ["votable_id", 28], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 10:48:04.103876"], ["id", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 3], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 28], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.109497"], ["id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.113076"], ["updated_at", "2017-09-07 10:48:04.113076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 29], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 29], ["created_at", "2017-09-07 10:48:04.115963"], ["updated_at", "2017-09-07 10:48:04.115963"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.117756"], ["id", 8]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.119538"], ["updated_at", "2017-09-07 10:48:04.119538"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 29 LIMIT $3[0m  [["voter_id", 4], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 4], ["voter_type", "User"], ["votable_id", 29], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 4], ["votable_type", "Article"], ["votable_id", 29], ["weight", -1], ["created_at", "2017-09-07 10:48:04.123751"], ["updated_at", "2017-09-07 10:48:04.123751"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 4], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 4], ["created_at", "2017-09-07 10:48:04.126613"], ["updated_at", "2017-09-07 10:48:04.126613"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.127708"], ["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 29 LIMIT $3[0m  [["voter_id", 4], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 4], ["id", 2], ["voter_type", "User"], ["votable_id", 29], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 10:48:04.132475"], ["id", 2]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 4], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 29], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.136803"], ["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.140315"], ["updated_at", "2017-09-07 10:48:04.140315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 30], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 30], ["created_at", "2017-09-07 10:48:04.143222"], ["updated_at", "2017-09-07 10:48:04.143222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.145176"], ["id", 10]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.149552"], ["updated_at", "2017-09-07 10:48:04.149552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 31], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 31], ["created_at", "2017-09-07 10:48:04.152311"], ["updated_at", "2017-09-07 10:48:04.152311"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.153929"], ["id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.156096"], ["updated_at", "2017-09-07 10:48:04.156096"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 31 LIMIT $3[0m  [["voter_id", 5], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 5], ["voter_type", "User"], ["votable_id", 31], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 5], ["votable_type", "Article"], ["votable_id", 31], ["weight", 1], ["created_at", "2017-09-07 10:48:04.161340"], ["updated_at", "2017-09-07 10:48:04.161340"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 5], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 5], ["created_at", "2017-09-07 10:48:04.164246"], ["updated_at", "2017-09-07 10:48:04.164246"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.165240"], ["id", 12]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 5], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.173056"], ["updated_at", "2017-09-07 10:48:04.173056"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 32], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 32], ["created_at", "2017-09-07 10:48:04.175864"], ["updated_at", "2017-09-07 10:48:04.175864"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.177473"], ["id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.179289"], ["updated_at", "2017-09-07 10:48:04.179289"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 6], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 6], ["created_at", "2017-09-07 10:48:04.181976"], ["updated_at", "2017-09-07 10:48:04.181976"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.184152"], ["id", 14]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 32 LIMIT $3[0m  [["voter_id", 6], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 6], ["voter_type", "User"], ["votable_id", 32], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 6], ["votable_type", "Article"], ["votable_id", 32], ["weight", 1], ["created_at", "2017-09-07 10:48:04.189078"], ["updated_at", "2017-09-07 10:48:04.189078"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 6], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 10:48:04.192854"], ["id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 6], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.197784"], ["updated_at", "2017-09-07 10:48:04.197784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 33], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 33], ["created_at", "2017-09-07 10:48:04.200361"], ["updated_at", "2017-09-07 10:48:04.200361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.202160"], ["id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.205249"], ["updated_at", "2017-09-07 10:48:04.205249"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 34], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 34], ["created_at", "2017-09-07 10:48:04.208354"], ["updated_at", "2017-09-07 10:48:04.208354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.210225"], ["id", 16]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.212202"], ["updated_at", "2017-09-07 10:48:04.212202"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 34 LIMIT $3[0m  [["voter_id", 7], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 7], ["voter_type", "User"], ["votable_id", 34], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 7], ["votable_type", "Article"], ["votable_id", 34], ["weight", -1], ["created_at", "2017-09-07 10:48:04.216240"], ["updated_at", "2017-09-07 10:48:04.216240"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 7], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 7], ["created_at", "2017-09-07 10:48:04.218984"], ["updated_at", "2017-09-07 10:48:04.218984"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.220154"], ["id", 17]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 7], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.224834"], ["updated_at", "2017-09-07 10:48:04.224834"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 35], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 35], ["created_at", "2017-09-07 10:48:04.228479"], ["updated_at", "2017-09-07 10:48:04.228479"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.230390"], ["id", 18]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.232608"], ["updated_at", "2017-09-07 10:48:04.232608"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 8], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 8], ["created_at", "2017-09-07 10:48:04.242378"], ["updated_at", "2017-09-07 10:48:04.242378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":-1}"], ["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.244027"], ["id", 19]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 35 LIMIT $3[0m  [["voter_id", 8], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 8], ["voter_type", "User"], ["votable_id", 35], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 8], ["votable_type", "Article"], ["votable_id", 35], ["weight", -1], ["created_at", "2017-09-07 10:48:04.247970"], ["updated_at", "2017-09-07 10:48:04.247970"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 8], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-2}"], ["updated_at", "2017-09-07 10:48:04.250398"], ["id", 19]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 8], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.254412"], ["updated_at", "2017-09-07 10:48:04.254412"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 36], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 36], ["created_at", "2017-09-07 10:48:04.257249"], ["updated_at", "2017-09-07 10:48:04.257249"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.258837"], ["id", 20]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.260402"], ["updated_at", "2017-09-07 10:48:04.260402"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 9], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 9], ["created_at", "2017-09-07 10:48:04.262585"], ["updated_at", "2017-09-07 10:48:04.262585"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.264079"], ["id", 21]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 36 LIMIT $3[0m  [["voter_id", 9], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 9], ["voter_type", "User"], ["votable_id", 36], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 9], ["votable_type", "Article"], ["votable_id", 36], ["weight", 1], ["created_at", "2017-09-07 10:48:04.268104"], ["updated_at", "2017-09-07 10:48:04.268104"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 9], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 10:48:04.270598"], ["id", 21]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.273968"], ["updated_at", "2017-09-07 10:48:04.273968"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 37], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 37], ["created_at", "2017-09-07 10:48:04.276620"], ["updated_at", "2017-09-07 10:48:04.276620"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.278247"], ["id", 22]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.279796"], ["updated_at", "2017-09-07 10:48:04.279796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 10], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 10], ["created_at", "2017-09-07 10:48:04.281989"], ["updated_at", "2017-09-07 10:48:04.281989"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:48:04.283448"], ["id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 37 LIMIT $3[0m  [["voter_id", 10], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 10], ["voter_type", "User"], ["votable_id", 37], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 10], ["votable_type", "Article"], ["votable_id", 37], ["weight", 1], ["created_at", "2017-09-07 10:48:04.287324"], ["updated_at", "2017-09-07 10:48:04.287324"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 10], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 10:48:04.290700"], ["id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 37 LIMIT $3[0m  [["voter_id", 10], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 8]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 10], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 37], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:48:04.297225"], ["id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 10], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.301515"], ["updated_at", "2017-09-07 10:48:04.301515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 38], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 38], ["created_at", "2017-09-07 10:48:04.304039"], ["updated_at", "2017-09-07 10:48:04.304039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.305665"], ["id", 24]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.308453"], ["updated_at", "2017-09-07 10:48:04.308453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 11], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 11], ["created_at", "2017-09-07 10:48:04.310867"], ["updated_at", "2017-09-07 10:48:04.310867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:48:04.312426"], ["id", 25]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 38 LIMIT $3[0m  [["voter_id", 11], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 11], ["voter_type", "User"], ["votable_id", 38], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 11], ["votable_type", "Article"], ["votable_id", 38], ["weight", -1], ["created_at", "2017-09-07 10:48:04.316256"], ["updated_at", "2017-09-07 10:48:04.316256"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 11], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":4}"], ["updated_at", "2017-09-07 10:48:04.318870"], ["id", 25]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 38 LIMIT $3[0m  [["voter_id", 11], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 9]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 11], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 38], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:48:04.325621"], ["id", 25]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 38 LIMIT $3[0m  [["voter_id", 11], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 11], ["voter_type", "User"], ["votable_id", 38], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 11], ["votable_type", "Article"], ["votable_id", 38], ["weight", 1], ["created_at", "2017-09-07 10:48:04.329388"], ["updated_at", "2017-09-07 10:48:04.329388"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 11], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 10:48:04.331860"], ["id", 25]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 11], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.336786"], ["updated_at", "2017-09-07 10:48:04.336786"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 39], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 39], ["created_at", "2017-09-07 10:48:04.339893"], ["updated_at", "2017-09-07 10:48:04.339893"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.342160"], ["id", 26]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.345781"], ["updated_at", "2017-09-07 10:48:04.345781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 12], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 12], ["created_at", "2017-09-07 10:48:04.348173"], ["updated_at", "2017-09-07 10:48:04.348173"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 39 LIMIT $3[0m  [["voter_id", 12], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 12], ["voter_type", "User"], ["votable_id", 39], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 12], ["votable_type", "Article"], ["votable_id", 39], ["weight", 1], ["created_at", "2017-09-07 10:48:04.352271"], ["updated_at", "2017-09-07 10:48:04.352271"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 12], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.354718"], ["id", 27]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 39 LIMIT $3[0m  [["voter_id", 12], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 11]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 12], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 39], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 10:48:04.361358"], ["id", 27]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.364246"], ["updated_at", "2017-09-07 10:48:04.364246"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 40], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 40], ["created_at", "2017-09-07 10:48:04.367065"], ["updated_at", "2017-09-07 10:48:04.367065"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.368855"], ["id", 28]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.370569"], ["updated_at", "2017-09-07 10:48:04.370569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 13], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 13], ["created_at", "2017-09-07 10:48:04.374225"], ["updated_at", "2017-09-07 10:48:04.374225"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 40 LIMIT $3[0m  [["voter_id", 13], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 13], ["voter_type", "User"], ["votable_id", 40], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 13], ["votable_type", "Article"], ["votable_id", 40], ["weight", -1], ["created_at", "2017-09-07 10:48:04.378926"], ["updated_at", "2017-09-07 10:48:04.378926"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 13], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.381714"], ["id", 29]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 40 LIMIT $3[0m  [["voter_id", 13], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 12]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 13], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 40], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 10:48:04.387705"], ["id", 29]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.391219"], ["updated_at", "2017-09-07 10:48:04.391219"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 41], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 41], ["created_at", "2017-09-07 10:48:04.394302"], ["updated_at", "2017-09-07 10:48:04.394302"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.396059"], ["id", 30]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.397704"], ["updated_at", "2017-09-07 10:48:04.397704"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.399004"], ["updated_at", "2017-09-07 10:48:04.399004"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 41 LIMIT $3[0m  [["voter_id", 15], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 15], ["voter_type", "User"], ["votable_id", 41], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 15], ["votable_type", "Article"], ["votable_id", 41], ["weight", 1], ["created_at", "2017-09-07 10:48:04.402720"], ["updated_at", "2017-09-07 10:48:04.402720"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 15], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 15], ["created_at", "2017-09-07 10:48:04.405150"], ["updated_at", "2017-09-07 10:48:04.405150"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.406338"], ["id", 31]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 41 LIMIT $3[0m  [["voter_id", 14], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 14], ["voter_type", "User"], ["votable_id", 41], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 14], ["votable_type", "Article"], ["votable_id", 41], ["weight", -1], ["created_at", "2017-09-07 10:48:04.410303"], ["updated_at", "2017-09-07 10:48:04.410303"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 14], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 14], ["created_at", "2017-09-07 10:48:04.412859"], ["updated_at", "2017-09-07 10:48:04.412859"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.413937"], ["id", 32]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 41 LIMIT $3[0m  [["voter_id", 14], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 14], ["id", 14], ["voter_type", "User"], ["votable_id", 41], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 10:48:04.418504"], ["id", 14]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 14], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 41], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.422282"], ["id", 32]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 15], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 14], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:48:04.428050"], ["updated_at", "2017-09-07 10:48:04.428050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 42], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 42], ["created_at", "2017-09-07 10:48:04.430597"], ["updated_at", "2017-09-07 10:48:04.430597"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.432110"], ["id", 33]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.433614"], ["updated_at", "2017-09-07 10:48:04.433614"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:48:04.434777"], ["updated_at", "2017-09-07 10:48:04.434777"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 42 LIMIT $3[0m  [["voter_id", 17], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 17], ["voter_type", "User"], ["votable_id", 42], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 17], ["votable_type", "Article"], ["votable_id", 42], ["weight", -1], ["created_at", "2017-09-07 10:48:04.438796"], ["updated_at", "2017-09-07 10:48:04.438796"]]
  [1m[36mRecommendation::Document Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 17], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 17], ["created_at", "2017-09-07 10:48:04.442758"], ["updated_at", "2017-09-07 10:48:04.442758"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.443924"], ["id", 34]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 42 LIMIT $3[0m  [["voter_id", 16], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 16], ["voter_type", "User"], ["votable_id", 42], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 16], ["votable_type", "Article"], ["votable_id", 42], ["weight", 1], ["created_at", "2017-09-07 10:48:04.447898"], ["updated_at", "2017-09-07 10:48:04.447898"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 16], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 16], ["created_at", "2017-09-07 10:48:04.450311"], ["updated_at", "2017-09-07 10:48:04.450311"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:48:04.451472"], ["id", 35]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 42 LIMIT $3[0m  [["voter_id", 16], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 16], ["id", 16], ["voter_type", "User"], ["votable_id", 42], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 10:48:04.458724"], ["id", 16]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 16], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 42], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:48:04.463042"], ["id", 35]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 17], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 16], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.643190"], ["updated_at", "2017-09-07 10:49:01.643190"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "articles"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "Article"]]
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "articles"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "Article"]]
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "articles"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "Article"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.672983"], ["updated_at", "2017-09-07 10:49:01.672983"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "users"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "User"]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "users"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "User"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "users"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "User"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.687434"], ["updated_at", "2017-09-07 10:49:01.687434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 44], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 44], ["created_at", "2017-09-07 10:49:01.708546"], ["updated_at", "2017-09-07 10:49:01.708546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.711307"], ["id", 36]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.715644"], ["updated_at", "2017-09-07 10:49:01.715644"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 45], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 45], ["created_at", "2017-09-07 10:49:01.718391"], ["updated_at", "2017-09-07 10:49:01.718391"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 10:49:01.720036"], ["id", 37]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.723933"], ["updated_at", "2017-09-07 10:49:01.723933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 46], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 46], ["created_at", "2017-09-07 10:49:01.726647"], ["updated_at", "2017-09-07 10:49:01.726647"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.728258"], ["id", 38]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 10:49:01.730104"], ["id", 38]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.732937"], ["updated_at", "2017-09-07 10:49:01.732937"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 47], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 47], ["created_at", "2017-09-07 10:49:01.735714"], ["updated_at", "2017-09-07 10:49:01.735714"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.737593"], ["id", 39]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 10:49:01.739704"], ["id", 39]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.742377"], ["updated_at", "2017-09-07 10:49:01.742377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 48], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 48], ["created_at", "2017-09-07 10:49:01.744886"], ["updated_at", "2017-09-07 10:49:01.744886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 10:49:01.746486"], ["id", 40]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.750920"], ["updated_at", "2017-09-07 10:49:01.750920"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 49], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 49], ["created_at", "2017-09-07 10:49:01.754267"], ["updated_at", "2017-09-07 10:49:01.754267"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.756260"], ["id", 41]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.758061"], ["updated_at", "2017-09-07 10:49:01.758061"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 49 LIMIT $3[0m  [["voter_id", 19], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 19], ["voter_type", "User"], ["votable_id", 49], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 19], ["votable_type", "Article"], ["votable_id", 49], ["weight", 1], ["created_at", "2017-09-07 10:49:01.776749"], ["updated_at", "2017-09-07 10:49:01.776749"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 19], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 19], ["created_at", "2017-09-07 10:49:01.781385"], ["updated_at", "2017-09-07 10:49:01.781385"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.782681"], ["id", 42]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 49 LIMIT $3[0m  [["voter_id", 19], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 19], ["id", 17], ["voter_type", "User"], ["votable_id", 49], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 10:49:01.789016"], ["id", 17]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 19], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 49], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:01.793227"], ["id", 42]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.796883"], ["updated_at", "2017-09-07 10:49:01.796883"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 50], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 50], ["created_at", "2017-09-07 10:49:01.799895"], ["updated_at", "2017-09-07 10:49:01.799895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.801796"], ["id", 43]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.804259"], ["updated_at", "2017-09-07 10:49:01.804259"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 50 LIMIT $3[0m  [["voter_id", 20], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 20], ["voter_type", "User"], ["votable_id", 50], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 20], ["votable_type", "Article"], ["votable_id", 50], ["weight", -1], ["created_at", "2017-09-07 10:49:01.809176"], ["updated_at", "2017-09-07 10:49:01.809176"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 20], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 20], ["created_at", "2017-09-07 10:49:01.811955"], ["updated_at", "2017-09-07 10:49:01.811955"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:01.813081"], ["id", 44]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 50 LIMIT $3[0m  [["voter_id", 20], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 20], ["id", 18], ["voter_type", "User"], ["votable_id", 50], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 10:49:01.817857"], ["id", 18]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 20], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 50], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.821870"], ["id", 44]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.825078"], ["updated_at", "2017-09-07 10:49:01.825078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 51], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 51], ["created_at", "2017-09-07 10:49:01.828247"], ["updated_at", "2017-09-07 10:49:01.828247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.830307"], ["id", 45]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.834115"], ["updated_at", "2017-09-07 10:49:01.834115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 52], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 52], ["created_at", "2017-09-07 10:49:01.837748"], ["updated_at", "2017-09-07 10:49:01.837748"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.840073"], ["id", 46]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.841971"], ["updated_at", "2017-09-07 10:49:01.841971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 52 LIMIT $3[0m  [["voter_id", 21], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 21], ["voter_type", "User"], ["votable_id", 52], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 21], ["votable_type", "Article"], ["votable_id", 52], ["weight", 1], ["created_at", "2017-09-07 10:49:01.846179"], ["updated_at", "2017-09-07 10:49:01.846179"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 21], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 21], ["created_at", "2017-09-07 10:49:01.848856"], ["updated_at", "2017-09-07 10:49:01.848856"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.850041"], ["id", 47]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 21], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.857797"], ["updated_at", "2017-09-07 10:49:01.857797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 53], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 53], ["created_at", "2017-09-07 10:49:01.860923"], ["updated_at", "2017-09-07 10:49:01.860923"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.862855"], ["id", 48]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.864586"], ["updated_at", "2017-09-07 10:49:01.864586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 22], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 22], ["created_at", "2017-09-07 10:49:01.867423"], ["updated_at", "2017-09-07 10:49:01.867423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.869578"], ["id", 49]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 53 LIMIT $3[0m  [["voter_id", 22], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 22], ["voter_type", "User"], ["votable_id", 53], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 22], ["votable_type", "Article"], ["votable_id", 53], ["weight", 1], ["created_at", "2017-09-07 10:49:01.875275"], ["updated_at", "2017-09-07 10:49:01.875275"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 22], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 10:49:01.878189"], ["id", 49]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 22], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.882576"], ["updated_at", "2017-09-07 10:49:01.882576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 54], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 54], ["created_at", "2017-09-07 10:49:01.885652"], ["updated_at", "2017-09-07 10:49:01.885652"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.887475"], ["id", 50]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.890672"], ["updated_at", "2017-09-07 10:49:01.890672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 55], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 55], ["created_at", "2017-09-07 10:49:01.893585"], ["updated_at", "2017-09-07 10:49:01.893585"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.895498"], ["id", 51]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.897385"], ["updated_at", "2017-09-07 10:49:01.897385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 55 LIMIT $3[0m  [["voter_id", 23], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 23], ["voter_type", "User"], ["votable_id", 55], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 23], ["votable_type", "Article"], ["votable_id", 55], ["weight", -1], ["created_at", "2017-09-07 10:49:01.901616"], ["updated_at", "2017-09-07 10:49:01.901616"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 23], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 23], ["created_at", "2017-09-07 10:49:01.904550"], ["updated_at", "2017-09-07 10:49:01.904550"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:01.905869"], ["id", 52]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 23], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.910684"], ["updated_at", "2017-09-07 10:49:01.910684"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 56], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 56], ["created_at", "2017-09-07 10:49:01.913449"], ["updated_at", "2017-09-07 10:49:01.913449"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.915146"], ["id", 53]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.917406"], ["updated_at", "2017-09-07 10:49:01.917406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 24], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 24], ["created_at", "2017-09-07 10:49:01.927678"], ["updated_at", "2017-09-07 10:49:01.927678"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":-1}"], ["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:01.929273"], ["id", 54]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 56 LIMIT $3[0m  [["voter_id", 24], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 24], ["voter_type", "User"], ["votable_id", 56], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 24], ["votable_type", "Article"], ["votable_id", 56], ["weight", -1], ["created_at", "2017-09-07 10:49:01.933223"], ["updated_at", "2017-09-07 10:49:01.933223"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 24], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-2}"], ["updated_at", "2017-09-07 10:49:01.935687"], ["id", 54]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 24], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.940205"], ["updated_at", "2017-09-07 10:49:01.940205"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 57], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 57], ["created_at", "2017-09-07 10:49:01.942791"], ["updated_at", "2017-09-07 10:49:01.942791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.944388"], ["id", 55]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.945999"], ["updated_at", "2017-09-07 10:49:01.945999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 25], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 25], ["created_at", "2017-09-07 10:49:01.948305"], ["updated_at", "2017-09-07 10:49:01.948305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.949876"], ["id", 56]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 57 LIMIT $3[0m  [["voter_id", 25], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 25], ["voter_type", "User"], ["votable_id", 57], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 25], ["votable_type", "Article"], ["votable_id", 57], ["weight", 1], ["created_at", "2017-09-07 10:49:01.954672"], ["updated_at", "2017-09-07 10:49:01.954672"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 25], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 10:49:01.957379"], ["id", 56]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.960433"], ["updated_at", "2017-09-07 10:49:01.960433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 58], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 58], ["created_at", "2017-09-07 10:49:01.962953"], ["updated_at", "2017-09-07 10:49:01.962953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.964540"], ["id", 57]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.966167"], ["updated_at", "2017-09-07 10:49:01.966167"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 26], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 26], ["created_at", "2017-09-07 10:49:01.968799"], ["updated_at", "2017-09-07 10:49:01.968799"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:01.970731"], ["id", 58]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 58 LIMIT $3[0m  [["voter_id", 26], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 26], ["voter_type", "User"], ["votable_id", 58], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 26], ["votable_type", "Article"], ["votable_id", 58], ["weight", 1], ["created_at", "2017-09-07 10:49:01.975674"], ["updated_at", "2017-09-07 10:49:01.975674"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 26], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 10:49:01.978242"], ["id", 58]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 58 LIMIT $3[0m  [["voter_id", 26], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 24]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 26], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 58], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:01.985009"], ["id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 26], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:01.990861"], ["updated_at", "2017-09-07 10:49:01.990861"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 59], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 59], ["created_at", "2017-09-07 10:49:01.993303"], ["updated_at", "2017-09-07 10:49:01.993303"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:01.994822"], ["id", 59]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:01.996385"], ["updated_at", "2017-09-07 10:49:01.996385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 27], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 27], ["created_at", "2017-09-07 10:49:01.998633"], ["updated_at", "2017-09-07 10:49:01.998633"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:02.000156"], ["id", 60]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 59 LIMIT $3[0m  [["voter_id", 27], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 27], ["voter_type", "User"], ["votable_id", 59], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 27], ["votable_type", "Article"], ["votable_id", 59], ["weight", -1], ["created_at", "2017-09-07 10:49:02.004228"], ["updated_at", "2017-09-07 10:49:02.004228"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 27], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":4}"], ["updated_at", "2017-09-07 10:49:02.006658"], ["id", 60]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 59 LIMIT $3[0m  [["voter_id", 27], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 25]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 27], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 59], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:02.012866"], ["id", 60]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 59 LIMIT $3[0m  [["voter_id", 27], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 27], ["voter_type", "User"], ["votable_id", 59], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 27], ["votable_type", "Article"], ["votable_id", 59], ["weight", 1], ["created_at", "2017-09-07 10:49:02.016560"], ["updated_at", "2017-09-07 10:49:02.016560"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 27], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 10:49:02.019196"], ["id", 60]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 27], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:02.023779"], ["updated_at", "2017-09-07 10:49:02.023779"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 60], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 60], ["created_at", "2017-09-07 10:49:02.026926"], ["updated_at", "2017-09-07 10:49:02.026926"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.028695"], ["id", 61]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:02.032912"], ["updated_at", "2017-09-07 10:49:02.032912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 28], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 28], ["created_at", "2017-09-07 10:49:02.038211"], ["updated_at", "2017-09-07 10:49:02.038211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 60 LIMIT $3[0m  [["voter_id", 28], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 28], ["voter_type", "User"], ["votable_id", 60], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 28], ["votable_type", "Article"], ["votable_id", 60], ["weight", 1], ["created_at", "2017-09-07 10:49:02.043115"], ["updated_at", "2017-09-07 10:49:02.043115"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 28], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.045782"], ["id", 62]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 60 LIMIT $3[0m  [["voter_id", 28], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 27]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 28], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 60], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 10:49:02.051857"], ["id", 62]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:02.054791"], ["updated_at", "2017-09-07 10:49:02.054791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 61], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 61], ["created_at", "2017-09-07 10:49:02.057256"], ["updated_at", "2017-09-07 10:49:02.057256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.058823"], ["id", 63]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:02.060590"], ["updated_at", "2017-09-07 10:49:02.060590"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 29], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 29], ["created_at", "2017-09-07 10:49:02.062852"], ["updated_at", "2017-09-07 10:49:02.062852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 61 LIMIT $3[0m  [["voter_id", 29], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 29], ["voter_type", "User"], ["votable_id", 61], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 29], ["votable_type", "Article"], ["votable_id", 61], ["weight", -1], ["created_at", "2017-09-07 10:49:02.066559"], ["updated_at", "2017-09-07 10:49:02.066559"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 29], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:02.068913"], ["id", 64]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 61 LIMIT $3[0m  [["voter_id", 29], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 28]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 29], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 61], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 10:49:02.074699"], ["id", 64]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:02.077764"], ["updated_at", "2017-09-07 10:49:02.077764"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 62], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 62], ["created_at", "2017-09-07 10:49:02.080245"], ["updated_at", "2017-09-07 10:49:02.080245"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.081824"], ["id", 65]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:02.083336"], ["updated_at", "2017-09-07 10:49:02.083336"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:02.084578"], ["updated_at", "2017-09-07 10:49:02.084578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 62 LIMIT $3[0m  [["voter_id", 31], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 31], ["voter_type", "User"], ["votable_id", 62], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 31], ["votable_type", "Article"], ["votable_id", 62], ["weight", 1], ["created_at", "2017-09-07 10:49:02.089088"], ["updated_at", "2017-09-07 10:49:02.089088"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 31], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 31], ["created_at", "2017-09-07 10:49:02.092262"], ["updated_at", "2017-09-07 10:49:02.092262"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.093469"], ["id", 66]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 62 LIMIT $3[0m  [["voter_id", 30], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 30], ["voter_type", "User"], ["votable_id", 62], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 30], ["votable_type", "Article"], ["votable_id", 62], ["weight", -1], ["created_at", "2017-09-07 10:49:02.097235"], ["updated_at", "2017-09-07 10:49:02.097235"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 30], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 30], ["created_at", "2017-09-07 10:49:02.099653"], ["updated_at", "2017-09-07 10:49:02.099653"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:02.100723"], ["id", 67]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 62 LIMIT $3[0m  [["voter_id", 30], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 30], ["id", 30], ["voter_type", "User"], ["votable_id", 62], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 10:49:02.105824"], ["id", 30]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 30], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 62], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.109755"], ["id", 67]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 31], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 30], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:02.114361"], ["updated_at", "2017-09-07 10:49:02.114361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 63], ["created_at", "2017-09-07 10:49:02.116798"], ["updated_at", "2017-09-07 10:49:02.116798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.118396"], ["id", 68]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:02.120350"], ["updated_at", "2017-09-07 10:49:02.120350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:02.121768"], ["updated_at", "2017-09-07 10:49:02.121768"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 63 LIMIT $3[0m  [["voter_id", 33], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 33], ["voter_type", "User"], ["votable_id", 63], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 33], ["votable_type", "Article"], ["votable_id", 63], ["weight", -1], ["created_at", "2017-09-07 10:49:02.125741"], ["updated_at", "2017-09-07 10:49:02.125741"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 33], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 33], ["created_at", "2017-09-07 10:49:02.128209"], ["updated_at", "2017-09-07 10:49:02.128209"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:02.129246"], ["id", 69]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 63 LIMIT $3[0m  [["voter_id", 32], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 32], ["voter_type", "User"], ["votable_id", 63], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 32], ["votable_type", "Article"], ["votable_id", 63], ["weight", 1], ["created_at", "2017-09-07 10:49:02.133043"], ["updated_at", "2017-09-07 10:49:02.133043"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 32], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 32], ["created_at", "2017-09-07 10:49:02.135506"], ["updated_at", "2017-09-07 10:49:02.135506"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:02.136604"], ["id", 70]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 63 LIMIT $3[0m  [["voter_id", 32], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 32], ["id", 32], ["voter_type", "User"], ["votable_id", 63], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 10:49:02.143851"], ["id", 32]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 32], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:02.147266"], ["id", 70]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 33], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 32], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.129463"], ["updated_at", "2017-09-07 10:49:15.129463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Load (0.6ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "articles"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "Article"]]
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "articles"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "Article"]]
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "articles"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "Article"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.157623"], ["updated_at", "2017-09-07 10:49:15.157623"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "users"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "User"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "users"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "User"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "users"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "User"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.174091"], ["updated_at", "2017-09-07 10:49:15.174091"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 65], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 65], ["created_at", "2017-09-07 10:49:15.192923"], ["updated_at", "2017-09-07 10:49:15.192923"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.195295"], ["id", 71]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.199381"], ["updated_at", "2017-09-07 10:49:15.199381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 66], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 66], ["created_at", "2017-09-07 10:49:15.202021"], ["updated_at", "2017-09-07 10:49:15.202021"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 10:49:15.203681"], ["id", 72]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.206287"], ["updated_at", "2017-09-07 10:49:15.206287"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 67], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 67], ["created_at", "2017-09-07 10:49:15.210009"], ["updated_at", "2017-09-07 10:49:15.210009"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.211753"], ["id", 73]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 10:49:15.213677"], ["id", 73]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.216295"], ["updated_at", "2017-09-07 10:49:15.216295"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 68], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 68], ["created_at", "2017-09-07 10:49:15.218763"], ["updated_at", "2017-09-07 10:49:15.218763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.220371"], ["id", 74]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 10:49:15.222504"], ["id", 74]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.225432"], ["updated_at", "2017-09-07 10:49:15.225432"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 69], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 69], ["created_at", "2017-09-07 10:49:15.227941"], ["updated_at", "2017-09-07 10:49:15.227941"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 10:49:15.229589"], ["id", 75]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.234193"], ["updated_at", "2017-09-07 10:49:15.234193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 70], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 70], ["created_at", "2017-09-07 10:49:15.237129"], ["updated_at", "2017-09-07 10:49:15.237129"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.238900"], ["id", 76]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.241269"], ["updated_at", "2017-09-07 10:49:15.241269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 70 LIMIT $3[0m  [["voter_id", 35], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 35], ["voter_type", "User"], ["votable_id", 70], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 35], ["votable_type", "Article"], ["votable_id", 70], ["weight", 1], ["created_at", "2017-09-07 10:49:15.258206"], ["updated_at", "2017-09-07 10:49:15.258206"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 35], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 35], ["created_at", "2017-09-07 10:49:15.262230"], ["updated_at", "2017-09-07 10:49:15.262230"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.263671"], ["id", 77]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 70 LIMIT $3[0m  [["voter_id", 35], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 35], ["id", 33], ["voter_type", "User"], ["votable_id", 70], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 10:49:15.269437"], ["id", 33]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 35], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 70], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.273884"], ["id", 77]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" ORDER BY "recommendation_votes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.278102"], ["updated_at", "2017-09-07 10:49:15.278102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 71], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 71], ["created_at", "2017-09-07 10:49:15.281045"], ["updated_at", "2017-09-07 10:49:15.281045"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.282836"], ["id", 78]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.284610"], ["updated_at", "2017-09-07 10:49:15.284610"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 71 LIMIT $3[0m  [["voter_id", 36], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 36], ["voter_type", "User"], ["votable_id", 71], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 36], ["votable_type", "Article"], ["votable_id", 71], ["weight", -1], ["created_at", "2017-09-07 10:49:15.288736"], ["updated_at", "2017-09-07 10:49:15.288736"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 36], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 36], ["created_at", "2017-09-07 10:49:15.291537"], ["updated_at", "2017-09-07 10:49:15.291537"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.292771"], ["id", 79]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 71 LIMIT $3[0m  [["voter_id", 36], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 36], ["id", 34], ["voter_type", "User"], ["votable_id", 71], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 10:49:15.297718"], ["id", 34]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 36], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 71], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.301760"], ["id", 79]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" ORDER BY "recommendation_votes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.305339"], ["updated_at", "2017-09-07 10:49:15.305339"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 72], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 72], ["created_at", "2017-09-07 10:49:15.308401"], ["updated_at", "2017-09-07 10:49:15.308401"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.310279"], ["id", 80]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.315369"], ["updated_at", "2017-09-07 10:49:15.315369"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 72 LIMIT $3[0m  [["voter_id", 37], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 37], ["voter_type", "User"], ["votable_id", 72], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 37], ["votable_type", "Article"], ["votable_id", 72], ["weight", 1], ["created_at", "2017-09-07 10:49:15.319697"], ["updated_at", "2017-09-07 10:49:15.319697"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 37], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 37], ["created_at", "2017-09-07 10:49:15.322677"], ["updated_at", "2017-09-07 10:49:15.322677"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.323949"], ["id", 81]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.328223"], ["updated_at", "2017-09-07 10:49:15.328223"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 73], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 73], ["created_at", "2017-09-07 10:49:15.331656"], ["updated_at", "2017-09-07 10:49:15.331656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.333453"], ["id", 82]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.335283"], ["updated_at", "2017-09-07 10:49:15.335283"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 73 LIMIT $3[0m  [["voter_id", 38], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 38], ["voter_type", "User"], ["votable_id", 73], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 38], ["votable_type", "Article"], ["votable_id", 73], ["weight", 1], ["created_at", "2017-09-07 10:49:15.339475"], ["updated_at", "2017-09-07 10:49:15.339475"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 38], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 38], ["created_at", "2017-09-07 10:49:15.342109"], ["updated_at", "2017-09-07 10:49:15.342109"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.343227"], ["id", 83]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 38], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.349084"], ["updated_at", "2017-09-07 10:49:15.349084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 74], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 74], ["created_at", "2017-09-07 10:49:15.352038"], ["updated_at", "2017-09-07 10:49:15.352038"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.353754"], ["id", 84]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.355851"], ["updated_at", "2017-09-07 10:49:15.355851"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 39], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 39], ["created_at", "2017-09-07 10:49:15.358624"], ["updated_at", "2017-09-07 10:49:15.358624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.360421"], ["id", 85]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 74 LIMIT $3[0m  [["voter_id", 39], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 39], ["voter_type", "User"], ["votable_id", 74], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 39], ["votable_type", "Article"], ["votable_id", 74], ["weight", 1], ["created_at", "2017-09-07 10:49:15.365886"], ["updated_at", "2017-09-07 10:49:15.365886"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 39], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 10:49:15.368710"], ["id", 85]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 39], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.374253"], ["updated_at", "2017-09-07 10:49:15.374253"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 75], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 75], ["created_at", "2017-09-07 10:49:15.377778"], ["updated_at", "2017-09-07 10:49:15.377778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.379692"], ["id", 86]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.381956"], ["updated_at", "2017-09-07 10:49:15.381956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 75 LIMIT $3[0m  [["voter_id", 40], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 40], ["voter_type", "User"], ["votable_id", 75], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 40], ["votable_type", "Article"], ["votable_id", 75], ["weight", -1], ["created_at", "2017-09-07 10:49:15.386179"], ["updated_at", "2017-09-07 10:49:15.386179"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 40], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 40], ["created_at", "2017-09-07 10:49:15.389078"], ["updated_at", "2017-09-07 10:49:15.389078"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.390544"], ["id", 87]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.393914"], ["updated_at", "2017-09-07 10:49:15.393914"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 76], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 76], ["created_at", "2017-09-07 10:49:15.402766"], ["updated_at", "2017-09-07 10:49:15.402766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.404455"], ["id", 88]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.406050"], ["updated_at", "2017-09-07 10:49:15.406050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 76 LIMIT $3[0m  [["voter_id", 41], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 41], ["voter_type", "User"], ["votable_id", 76], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 41], ["votable_type", "Article"], ["votable_id", 76], ["weight", -1], ["created_at", "2017-09-07 10:49:15.410420"], ["updated_at", "2017-09-07 10:49:15.410420"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 41], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 41], ["created_at", "2017-09-07 10:49:15.412858"], ["updated_at", "2017-09-07 10:49:15.412858"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.413834"], ["id", 89]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 41], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.417893"], ["updated_at", "2017-09-07 10:49:15.417893"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 77], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 77], ["created_at", "2017-09-07 10:49:15.420386"], ["updated_at", "2017-09-07 10:49:15.420386"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.422070"], ["id", 90]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.424453"], ["updated_at", "2017-09-07 10:49:15.424453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 42], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 42], ["created_at", "2017-09-07 10:49:15.427240"], ["updated_at", "2017-09-07 10:49:15.427240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":-1}"], ["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.428906"], ["id", 91]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 77 LIMIT $3[0m  [["voter_id", 42], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 42], ["voter_type", "User"], ["votable_id", 77], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 42], ["votable_type", "Article"], ["votable_id", 77], ["weight", -1], ["created_at", "2017-09-07 10:49:15.432786"], ["updated_at", "2017-09-07 10:49:15.432786"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 42], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-2}"], ["updated_at", "2017-09-07 10:49:15.435194"], ["id", 91]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 42], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.439659"], ["updated_at", "2017-09-07 10:49:15.439659"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 78], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 78], ["created_at", "2017-09-07 10:49:15.442429"], ["updated_at", "2017-09-07 10:49:15.442429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.444239"], ["id", 92]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.445902"], ["updated_at", "2017-09-07 10:49:15.445902"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 43], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 43], ["created_at", "2017-09-07 10:49:15.448326"], ["updated_at", "2017-09-07 10:49:15.448326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.449946"], ["id", 93]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 78 LIMIT $3[0m  [["voter_id", 43], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 43], ["voter_type", "User"], ["votable_id", 78], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 43], ["votable_type", "Article"], ["votable_id", 78], ["weight", 1], ["created_at", "2017-09-07 10:49:15.455003"], ["updated_at", "2017-09-07 10:49:15.455003"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 43], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 10:49:15.458293"], ["id", 93]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 78 LIMIT $3[0m  [["voter_id", 43], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 41]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 43], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 78], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.465548"], ["id", 93]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.468629"], ["updated_at", "2017-09-07 10:49:15.468629"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 79], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 79], ["created_at", "2017-09-07 10:49:15.471084"], ["updated_at", "2017-09-07 10:49:15.471084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.472845"], ["id", 94]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.474419"], ["updated_at", "2017-09-07 10:49:15.474419"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 44], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 44], ["created_at", "2017-09-07 10:49:15.476649"], ["updated_at", "2017-09-07 10:49:15.476649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:15.478328"], ["id", 95]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 79 LIMIT $3[0m  [["voter_id", 44], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 44], ["voter_type", "User"], ["votable_id", 79], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 44], ["votable_type", "Article"], ["votable_id", 79], ["weight", 1], ["created_at", "2017-09-07 10:49:15.482365"], ["updated_at", "2017-09-07 10:49:15.482365"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 44], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 10:49:15.484984"], ["id", 95]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 79 LIMIT $3[0m  [["voter_id", 44], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 42]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 44], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 79], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:15.491250"], ["id", 95]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 44], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.495692"], ["updated_at", "2017-09-07 10:49:15.495692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 80], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 80], ["created_at", "2017-09-07 10:49:15.498203"], ["updated_at", "2017-09-07 10:49:15.498203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.499841"], ["id", 96]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.501481"], ["updated_at", "2017-09-07 10:49:15.501481"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 45], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 45], ["created_at", "2017-09-07 10:49:15.504479"], ["updated_at", "2017-09-07 10:49:15.504479"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:15.506293"], ["id", 97]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 80 LIMIT $3[0m  [["voter_id", 45], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 45], ["voter_type", "User"], ["votable_id", 80], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 45], ["votable_type", "Article"], ["votable_id", 80], ["weight", -1], ["created_at", "2017-09-07 10:49:15.511464"], ["updated_at", "2017-09-07 10:49:15.511464"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 45], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":4}"], ["updated_at", "2017-09-07 10:49:15.513986"], ["id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 80 LIMIT $3[0m  [["voter_id", 45], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 43]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 45], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 80], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 10:49:15.519872"], ["id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 80 LIMIT $3[0m  [["voter_id", 45], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 45], ["voter_type", "User"], ["votable_id", 80], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 45], ["votable_type", "Article"], ["votable_id", 80], ["weight", 1], ["created_at", "2017-09-07 10:49:15.523744"], ["updated_at", "2017-09-07 10:49:15.523744"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 45], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 10:49:15.526364"], ["id", 97]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 45], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.530973"], ["updated_at", "2017-09-07 10:49:15.530973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 81], ["created_at", "2017-09-07 10:49:15.533608"], ["updated_at", "2017-09-07 10:49:15.533608"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.535256"], ["id", 98]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.537010"], ["updated_at", "2017-09-07 10:49:15.537010"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 46], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 46], ["created_at", "2017-09-07 10:49:15.539463"], ["updated_at", "2017-09-07 10:49:15.539463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 81 LIMIT $3[0m  [["voter_id", 46], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 46], ["voter_type", "User"], ["votable_id", 81], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 46], ["votable_type", "Article"], ["votable_id", 81], ["weight", 1], ["created_at", "2017-09-07 10:49:15.543348"], ["updated_at", "2017-09-07 10:49:15.543348"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 46], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.545694"], ["id", 99]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 81 LIMIT $3[0m  [["voter_id", 46], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 45]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 46], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 10:49:15.551533"], ["id", 99]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.554286"], ["updated_at", "2017-09-07 10:49:15.554286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 82], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 82], ["created_at", "2017-09-07 10:49:15.557139"], ["updated_at", "2017-09-07 10:49:15.557139"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.558915"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.560605"], ["updated_at", "2017-09-07 10:49:15.560605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 47], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 47], ["created_at", "2017-09-07 10:49:15.562965"], ["updated_at", "2017-09-07 10:49:15.562965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.6ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 82 LIMIT $3[0m  [["voter_id", 47], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 47], ["voter_type", "User"], ["votable_id", 82], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 47], ["votable_type", "Article"], ["votable_id", 82], ["weight", -1], ["created_at", "2017-09-07 10:49:15.568078"], ["updated_at", "2017-09-07 10:49:15.568078"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 47], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.570864"], ["id", 101]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 82 LIMIT $3[0m  [["voter_id", 47], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 46]]
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 47], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 82], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 10:49:15.578546"], ["id", 101]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.581434"], ["updated_at", "2017-09-07 10:49:15.581434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 83], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 83], ["created_at", "2017-09-07 10:49:15.583997"], ["updated_at", "2017-09-07 10:49:15.583997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.585694"], ["id", 102]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.587567"], ["updated_at", "2017-09-07 10:49:15.587567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.588894"], ["updated_at", "2017-09-07 10:49:15.588894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 83 LIMIT $3[0m  [["voter_id", 49], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 49], ["voter_type", "User"], ["votable_id", 83], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 49], ["votable_type", "Article"], ["votable_id", 83], ["weight", 1], ["created_at", "2017-09-07 10:49:15.592848"], ["updated_at", "2017-09-07 10:49:15.592848"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 49], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 49], ["created_at", "2017-09-07 10:49:15.595224"], ["updated_at", "2017-09-07 10:49:15.595224"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.596250"], ["id", 103]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 83 LIMIT $3[0m  [["voter_id", 48], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 48], ["voter_type", "User"], ["votable_id", 83], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 48], ["votable_type", "Article"], ["votable_id", 83], ["weight", -1], ["created_at", "2017-09-07 10:49:15.600501"], ["updated_at", "2017-09-07 10:49:15.600501"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 48], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 48], ["created_at", "2017-09-07 10:49:15.603149"], ["updated_at", "2017-09-07 10:49:15.603149"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.604400"], ["id", 104]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 83 LIMIT $3[0m  [["voter_id", 48], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 48], ["id", 48], ["voter_type", "User"], ["votable_id", 83], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 10:49:15.608795"], ["id", 48]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 48], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 83], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.612369"], ["id", 104]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 49], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 48], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 10:49:15.620050"], ["updated_at", "2017-09-07 10:49:15.620050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 84], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 84], ["created_at", "2017-09-07 10:49:15.622578"], ["updated_at", "2017-09-07 10:49:15.622578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.624655"], ["id", 105]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.626679"], ["updated_at", "2017-09-07 10:49:15.626679"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 10:49:15.628055"], ["updated_at", "2017-09-07 10:49:15.628055"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 84 LIMIT $3[0m  [["voter_id", 51], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 51], ["voter_type", "User"], ["votable_id", 84], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 51], ["votable_type", "Article"], ["votable_id", 84], ["weight", -1], ["created_at", "2017-09-07 10:49:15.631820"], ["updated_at", "2017-09-07 10:49:15.631820"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 51], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 51], ["created_at", "2017-09-07 10:49:15.634486"], ["updated_at", "2017-09-07 10:49:15.634486"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.635563"], ["id", 106]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 84 LIMIT $3[0m  [["voter_id", 50], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 50], ["voter_type", "User"], ["votable_id", 84], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 50], ["votable_type", "Article"], ["votable_id", 84], ["weight", 1], ["created_at", "2017-09-07 10:49:15.639268"], ["updated_at", "2017-09-07 10:49:15.639268"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 50], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 50], ["created_at", "2017-09-07 10:49:15.641879"], ["updated_at", "2017-09-07 10:49:15.641879"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 10:49:15.642937"], ["id", 107]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 84 LIMIT $3[0m  [["voter_id", 50], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 50], ["id", 50], ["voter_type", "User"], ["votable_id", 84], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 10:49:15.646874"], ["id", 50]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 50], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 84], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 10:49:15.651872"], ["id", 107]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 51], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 50], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.265437"], ["updated_at", "2017-09-07 12:49:56.265437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "articles"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "Article"]]
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "articles"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "Article"]]
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "articles"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "Article"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.293648"], ["updated_at", "2017-09-07 12:49:56.293648"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "users"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "User"]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "users"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "User"]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "users"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "User"]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.310020"], ["updated_at", "2017-09-07 12:49:56.310020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 86], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 86], ["created_at", "2017-09-07 12:49:56.330832"], ["updated_at", "2017-09-07 12:49:56.330832"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.333968"], ["id", 108]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.338908"], ["updated_at", "2017-09-07 12:49:56.338908"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 87], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 87], ["created_at", "2017-09-07 12:49:56.341670"], ["updated_at", "2017-09-07 12:49:56.341670"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 12:49:56.343360"], ["id", 109]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.346073"], ["updated_at", "2017-09-07 12:49:56.346073"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 88], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 88], ["created_at", "2017-09-07 12:49:56.348746"], ["updated_at", "2017-09-07 12:49:56.348746"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.350441"], ["id", 110]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 12:49:56.352343"], ["id", 110]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.355397"], ["updated_at", "2017-09-07 12:49:56.355397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 89], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 89], ["created_at", "2017-09-07 12:49:56.358321"], ["updated_at", "2017-09-07 12:49:56.358321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.360208"], ["id", 111]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 12:49:56.362287"], ["id", 111]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.365013"], ["updated_at", "2017-09-07 12:49:56.365013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 90], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 90], ["created_at", "2017-09-07 12:49:56.367852"], ["updated_at", "2017-09-07 12:49:56.367852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 12:49:56.369447"], ["id", 112]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.374496"], ["updated_at", "2017-09-07 12:49:56.374496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 91], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 91], ["created_at", "2017-09-07 12:49:56.377104"], ["updated_at", "2017-09-07 12:49:56.377104"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.378660"], ["id", 113]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.380367"], ["updated_at", "2017-09-07 12:49:56.380367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 91 LIMIT $3[0m  [["voter_id", 53], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 53], ["voter_type", "User"], ["votable_id", 91], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 53], ["votable_type", "Article"], ["votable_id", 91], ["weight", 1], ["created_at", "2017-09-07 12:49:56.400135"], ["updated_at", "2017-09-07 12:49:56.400135"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 53], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 53], ["created_at", "2017-09-07 12:49:56.404802"], ["updated_at", "2017-09-07 12:49:56.404802"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.406097"], ["id", 114]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 91 LIMIT $3[0m  [["voter_id", 53], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 53], ["id", 51], ["voter_type", "User"], ["votable_id", 91], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 12:49:56.412668"], ["id", 51]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 53], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 91], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.417263"], ["id", 114]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" ORDER BY "recommendation_votes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.422092"], ["updated_at", "2017-09-07 12:49:56.422092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 92], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 92], ["created_at", "2017-09-07 12:49:56.424912"], ["updated_at", "2017-09-07 12:49:56.424912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.426576"], ["id", 115]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.428346"], ["updated_at", "2017-09-07 12:49:56.428346"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 92 LIMIT $3[0m  [["voter_id", 54], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 54], ["voter_type", "User"], ["votable_id", 92], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 54], ["votable_type", "Article"], ["votable_id", 92], ["weight", -1], ["created_at", "2017-09-07 12:49:56.432825"], ["updated_at", "2017-09-07 12:49:56.432825"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 54], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 54], ["created_at", "2017-09-07 12:49:56.435783"], ["updated_at", "2017-09-07 12:49:56.435783"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.436884"], ["id", 116]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 92 LIMIT $3[0m  [["voter_id", 54], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 54], ["id", 52], ["voter_type", "User"], ["votable_id", 92], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 12:49:56.442066"], ["id", 52]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 54], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 92], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.445918"], ["id", 116]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" ORDER BY "recommendation_votes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.449507"], ["updated_at", "2017-09-07 12:49:56.449507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 93], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 93], ["created_at", "2017-09-07 12:49:56.452597"], ["updated_at", "2017-09-07 12:49:56.452597"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.454506"], ["id", 117]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.459747"], ["updated_at", "2017-09-07 12:49:56.459747"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 93 LIMIT $3[0m  [["voter_id", 55], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 55], ["voter_type", "User"], ["votable_id", 93], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 55], ["votable_type", "Article"], ["votable_id", 93], ["weight", 1], ["created_at", "2017-09-07 12:49:56.464303"], ["updated_at", "2017-09-07 12:49:56.464303"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 55], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 55], ["created_at", "2017-09-07 12:49:56.467975"], ["updated_at", "2017-09-07 12:49:56.467975"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.469458"], ["id", 118]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.472945"], ["updated_at", "2017-09-07 12:49:56.472945"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 94], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 94], ["created_at", "2017-09-07 12:49:56.475780"], ["updated_at", "2017-09-07 12:49:56.475780"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.477587"], ["id", 119]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.479481"], ["updated_at", "2017-09-07 12:49:56.479481"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 94 LIMIT $3[0m  [["voter_id", 56], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 56], ["voter_type", "User"], ["votable_id", 94], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 56], ["votable_type", "Article"], ["votable_id", 94], ["weight", 1], ["created_at", "2017-09-07 12:49:56.483990"], ["updated_at", "2017-09-07 12:49:56.483990"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 56], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 56], ["created_at", "2017-09-07 12:49:56.486866"], ["updated_at", "2017-09-07 12:49:56.486866"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.487980"], ["id", 120]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 56], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.494296"], ["updated_at", "2017-09-07 12:49:56.494296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 95], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 95], ["created_at", "2017-09-07 12:49:56.497353"], ["updated_at", "2017-09-07 12:49:56.497353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.499122"], ["id", 121]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.501294"], ["updated_at", "2017-09-07 12:49:56.501294"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 57], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 57], ["created_at", "2017-09-07 12:49:56.504233"], ["updated_at", "2017-09-07 12:49:56.504233"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.506055"], ["id", 122]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 95 LIMIT $3[0m  [["voter_id", 57], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 57], ["voter_type", "User"], ["votable_id", 95], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 57], ["votable_type", "Article"], ["votable_id", 95], ["weight", 1], ["created_at", "2017-09-07 12:49:56.511206"], ["updated_at", "2017-09-07 12:49:56.511206"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 57], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 12:49:56.514153"], ["id", 122]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 57], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.519633"], ["updated_at", "2017-09-07 12:49:56.519633"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 96], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 96], ["created_at", "2017-09-07 12:49:56.522548"], ["updated_at", "2017-09-07 12:49:56.522548"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.525143"], ["id", 123]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.528397"], ["updated_at", "2017-09-07 12:49:56.528397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 96 LIMIT $3[0m  [["voter_id", 58], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 58], ["voter_type", "User"], ["votable_id", 96], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 58], ["votable_type", "Article"], ["votable_id", 96], ["weight", -1], ["created_at", "2017-09-07 12:49:56.533125"], ["updated_at", "2017-09-07 12:49:56.533125"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 58], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 58], ["created_at", "2017-09-07 12:49:56.535980"], ["updated_at", "2017-09-07 12:49:56.535980"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.537162"], ["id", 124]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.540363"], ["updated_at", "2017-09-07 12:49:56.540363"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 97], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 97], ["created_at", "2017-09-07 12:49:56.549800"], ["updated_at", "2017-09-07 12:49:56.549800"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.551599"], ["id", 125]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.553463"], ["updated_at", "2017-09-07 12:49:56.553463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 97 LIMIT $3[0m  [["voter_id", 59], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 59], ["voter_type", "User"], ["votable_id", 97], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 59], ["votable_type", "Article"], ["votable_id", 97], ["weight", -1], ["created_at", "2017-09-07 12:49:56.557941"], ["updated_at", "2017-09-07 12:49:56.557941"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 59], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 59], ["created_at", "2017-09-07 12:49:56.560714"], ["updated_at", "2017-09-07 12:49:56.560714"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.562014"], ["id", 126]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 59], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.566173"], ["updated_at", "2017-09-07 12:49:56.566173"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 98], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 98], ["created_at", "2017-09-07 12:49:56.569649"], ["updated_at", "2017-09-07 12:49:56.569649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.571367"], ["id", 127]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.573007"], ["updated_at", "2017-09-07 12:49:56.573007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 60], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 60], ["created_at", "2017-09-07 12:49:56.575786"], ["updated_at", "2017-09-07 12:49:56.575786"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":-1}"], ["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.577380"], ["id", 128]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 98 LIMIT $3[0m  [["voter_id", 60], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 60], ["voter_type", "User"], ["votable_id", 98], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 60], ["votable_type", "Article"], ["votable_id", 98], ["weight", -1], ["created_at", "2017-09-07 12:49:56.581439"], ["updated_at", "2017-09-07 12:49:56.581439"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 60], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-2}"], ["updated_at", "2017-09-07 12:49:56.583947"], ["id", 128]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 60], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.588118"], ["updated_at", "2017-09-07 12:49:56.588118"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 99], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 99], ["created_at", "2017-09-07 12:49:56.590572"], ["updated_at", "2017-09-07 12:49:56.590572"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.592147"], ["id", 129]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.593660"], ["updated_at", "2017-09-07 12:49:56.593660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 61], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 61], ["created_at", "2017-09-07 12:49:56.595914"], ["updated_at", "2017-09-07 12:49:56.595914"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.597459"], ["id", 130]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 99 LIMIT $3[0m  [["voter_id", 61], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 61], ["voter_type", "User"], ["votable_id", 99], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 61], ["votable_type", "Article"], ["votable_id", 99], ["weight", 1], ["created_at", "2017-09-07 12:49:56.602243"], ["updated_at", "2017-09-07 12:49:56.602243"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 61], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 12:49:56.604940"], ["id", 130]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 99 LIMIT $3[0m  [["voter_id", 61], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 59]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 61], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 99], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.612018"], ["id", 130]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.615085"], ["updated_at", "2017-09-07 12:49:56.615085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 100], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 100], ["created_at", "2017-09-07 12:49:56.618630"], ["updated_at", "2017-09-07 12:49:56.618630"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.620319"], ["id", 131]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.621935"], ["updated_at", "2017-09-07 12:49:56.621935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 62], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 62], ["created_at", "2017-09-07 12:49:56.624143"], ["updated_at", "2017-09-07 12:49:56.624143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 12:49:56.625663"], ["id", 132]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 100 LIMIT $3[0m  [["voter_id", 62], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 62], ["voter_type", "User"], ["votable_id", 100], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 62], ["votable_type", "Article"], ["votable_id", 100], ["weight", 1], ["created_at", "2017-09-07 12:49:56.629583"], ["updated_at", "2017-09-07 12:49:56.629583"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 62], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 12:49:56.633637"], ["id", 132]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 100 LIMIT $3[0m  [["voter_id", 62], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 60]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 62], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 100], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 12:49:56.640398"], ["id", 132]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 62], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.644507"], ["updated_at", "2017-09-07 12:49:56.644507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 101], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 101], ["created_at", "2017-09-07 12:49:56.647027"], ["updated_at", "2017-09-07 12:49:56.647027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.648933"], ["id", 133]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.651162"], ["updated_at", "2017-09-07 12:49:56.651162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 63], ["created_at", "2017-09-07 12:49:56.653870"], ["updated_at", "2017-09-07 12:49:56.653870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 12:49:56.655458"], ["id", 134]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 101 LIMIT $3[0m  [["voter_id", 63], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 63], ["voter_type", "User"], ["votable_id", 101], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 63], ["votable_type", "Article"], ["votable_id", 101], ["weight", -1], ["created_at", "2017-09-07 12:49:56.659420"], ["updated_at", "2017-09-07 12:49:56.659420"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":4}"], ["updated_at", "2017-09-07 12:49:56.661842"], ["id", 134]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 101 LIMIT $3[0m  [["voter_id", 63], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 61]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 101], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 12:49:56.669560"], ["id", 134]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 101 LIMIT $3[0m  [["voter_id", 63], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 63], ["voter_type", "User"], ["votable_id", 101], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 63], ["votable_type", "Article"], ["votable_id", 101], ["weight", 1], ["created_at", "2017-09-07 12:49:56.673612"], ["updated_at", "2017-09-07 12:49:56.673612"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 12:49:56.676775"], ["id", 134]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 63], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.681022"], ["updated_at", "2017-09-07 12:49:56.681022"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 102], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 102], ["created_at", "2017-09-07 12:49:56.683696"], ["updated_at", "2017-09-07 12:49:56.683696"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.685345"], ["id", 135]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.686953"], ["updated_at", "2017-09-07 12:49:56.686953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 64], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 64], ["created_at", "2017-09-07 12:49:56.689167"], ["updated_at", "2017-09-07 12:49:56.689167"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 102 LIMIT $3[0m  [["voter_id", 64], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 64], ["voter_type", "User"], ["votable_id", 102], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 64], ["votable_type", "Article"], ["votable_id", 102], ["weight", 1], ["created_at", "2017-09-07 12:49:56.692945"], ["updated_at", "2017-09-07 12:49:56.692945"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 64], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.695570"], ["id", 136]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 102 LIMIT $3[0m  [["voter_id", 64], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 63]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 64], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 102], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 12:49:56.701912"], ["id", 136]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.704784"], ["updated_at", "2017-09-07 12:49:56.704784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 103], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 103], ["created_at", "2017-09-07 12:49:56.707410"], ["updated_at", "2017-09-07 12:49:56.707410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.709041"], ["id", 137]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.710710"], ["updated_at", "2017-09-07 12:49:56.710710"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 65], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 65], ["created_at", "2017-09-07 12:49:56.713101"], ["updated_at", "2017-09-07 12:49:56.713101"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.5ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 103 LIMIT $3[0m  [["voter_id", 65], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 65], ["voter_type", "User"], ["votable_id", 103], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 65], ["votable_type", "Article"], ["votable_id", 103], ["weight", -1], ["created_at", "2017-09-07 12:49:56.717836"], ["updated_at", "2017-09-07 12:49:56.717836"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 65], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.720497"], ["id", 138]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 103 LIMIT $3[0m  [["voter_id", 65], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 64]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 65], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 103], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 12:49:56.726795"], ["id", 138]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.729729"], ["updated_at", "2017-09-07 12:49:56.729729"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 104], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 104], ["created_at", "2017-09-07 12:49:56.732702"], ["updated_at", "2017-09-07 12:49:56.732702"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.735655"], ["id", 139]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.737535"], ["updated_at", "2017-09-07 12:49:56.737535"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.738933"], ["updated_at", "2017-09-07 12:49:56.738933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 104 LIMIT $3[0m  [["voter_id", 67], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 67], ["voter_type", "User"], ["votable_id", 104], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 67], ["votable_type", "Article"], ["votable_id", 104], ["weight", 1], ["created_at", "2017-09-07 12:49:56.742647"], ["updated_at", "2017-09-07 12:49:56.742647"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 67], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 67], ["created_at", "2017-09-07 12:49:56.745006"], ["updated_at", "2017-09-07 12:49:56.745006"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.746026"], ["id", 140]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 104 LIMIT $3[0m  [["voter_id", 66], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 66], ["voter_type", "User"], ["votable_id", 104], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 66], ["votable_type", "Article"], ["votable_id", 104], ["weight", -1], ["created_at", "2017-09-07 12:49:56.749764"], ["updated_at", "2017-09-07 12:49:56.749764"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 66], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 66], ["created_at", "2017-09-07 12:49:56.752100"], ["updated_at", "2017-09-07 12:49:56.752100"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.753133"], ["id", 141]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 104 LIMIT $3[0m  [["voter_id", 66], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 66], ["id", 66], ["voter_type", "User"], ["votable_id", 104], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 12:49:56.757711"], ["id", 66]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 66], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 104], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.761312"], ["id", 141]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 67], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 66], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 12:49:56.770391"], ["updated_at", "2017-09-07 12:49:56.770391"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 105], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 105], ["created_at", "2017-09-07 12:49:56.773656"], ["updated_at", "2017-09-07 12:49:56.773656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.775302"], ["id", 142]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.776900"], ["updated_at", "2017-09-07 12:49:56.776900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 12:49:56.778124"], ["updated_at", "2017-09-07 12:49:56.778124"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 105 LIMIT $3[0m  [["voter_id", 69], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 69], ["voter_type", "User"], ["votable_id", 105], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 69], ["votable_type", "Article"], ["votable_id", 105], ["weight", -1], ["created_at", "2017-09-07 12:49:56.782061"], ["updated_at", "2017-09-07 12:49:56.782061"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 69], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 69], ["created_at", "2017-09-07 12:49:56.784592"], ["updated_at", "2017-09-07 12:49:56.784592"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.785606"], ["id", 143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 105 LIMIT $3[0m  [["voter_id", 68], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 68], ["voter_type", "User"], ["votable_id", 105], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 68], ["votable_type", "Article"], ["votable_id", 105], ["weight", 1], ["created_at", "2017-09-07 12:49:56.789247"], ["updated_at", "2017-09-07 12:49:56.789247"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 68], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 68], ["created_at", "2017-09-07 12:49:56.791562"], ["updated_at", "2017-09-07 12:49:56.791562"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 12:49:56.792559"], ["id", 144]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 105 LIMIT $3[0m  [["voter_id", 68], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 68], ["id", 68], ["voter_type", "User"], ["votable_id", 105], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 12:49:56.796786"], ["id", 68]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 68], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 105], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 12:49:56.801001"], ["id", 144]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 69], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 68], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.232269"], ["updated_at", "2017-09-07 13:13:08.232269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Load (0.8ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "articles"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "Article"]]
  [1m[36mArticle Load (0.7ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "articles"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "Article"]]
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "articles"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "Article"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.260720"], ["updated_at", "2017-09-07 13:13:08.260720"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_documents" ON "recommendation_documents"."recommendable_id" = "users"."id" AND "recommendation_documents"."recommendable_type" = $1[0m  [["recommendable_type", "User"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."voter_id" = "users"."id" AND "recommendation_votes"."voter_type" = $1[0m  [["voter_type", "User"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "recommendation_votes" ON "recommendation_votes"."votable_id" = "users"."id" AND "recommendation_votes"."votable_type" = $1[0m  [["votable_type", "User"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.276048"], ["updated_at", "2017-09-07 13:13:08.276048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.4ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 107], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 107], ["created_at", "2017-09-07 13:13:08.298098"], ["updated_at", "2017-09-07 13:13:08.298098"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.300530"], ["id", 145]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.305499"], ["updated_at", "2017-09-07 13:13:08.305499"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 108], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 108], ["created_at", "2017-09-07 13:13:08.308672"], ["updated_at", "2017-09-07 13:13:08.308672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 13:13:08.310385"], ["id", 146]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.312917"], ["updated_at", "2017-09-07 13:13:08.312917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 109], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 109], ["created_at", "2017-09-07 13:13:08.315450"], ["updated_at", "2017-09-07 13:13:08.315450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.317097"], ["id", 147]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 13:13:08.319212"], ["id", 147]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.322291"], ["updated_at", "2017-09-07 13:13:08.322291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 110], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 110], ["created_at", "2017-09-07 13:13:08.324827"], ["updated_at", "2017-09-07 13:13:08.324827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.326386"], ["id", 148]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1,\"tag2\":1}"], ["tags_cache", "{\"tag1\":1,\"tag2\":1}"], ["updated_at", "2017-09-07 13:13:08.328590"], ["id", 148]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.331320"], ["updated_at", "2017-09-07 13:13:08.331320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 111], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 111], ["created_at", "2017-09-07 13:13:08.333830"], ["updated_at", "2017-09-07 13:13:08.333830"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":10}"], ["tags_cache", "{\"tag1\":10}"], ["updated_at", "2017-09-07 13:13:08.335351"], ["id", 149]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.340438"], ["updated_at", "2017-09-07 13:13:08.340438"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 112], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 112], ["created_at", "2017-09-07 13:13:08.343294"], ["updated_at", "2017-09-07 13:13:08.343294"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.344999"], ["id", 150]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.346624"], ["updated_at", "2017-09-07 13:13:08.346624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 112 LIMIT $3[0m  [["voter_id", 71], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 71], ["voter_type", "User"], ["votable_id", 112], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 71], ["votable_type", "Article"], ["votable_id", 112], ["weight", 1], ["created_at", "2017-09-07 13:13:08.366864"], ["updated_at", "2017-09-07 13:13:08.366864"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 71], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 71], ["created_at", "2017-09-07 13:13:08.371866"], ["updated_at", "2017-09-07 13:13:08.371866"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.373223"], ["id", 151]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 112 LIMIT $3[0m  [["voter_id", 71], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 71], ["id", 69], ["voter_type", "User"], ["votable_id", 112], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 13:13:08.379658"], ["id", 69]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 71], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 112], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.383930"], ["id", 151]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" ORDER BY "recommendation_votes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.388741"], ["updated_at", "2017-09-07 13:13:08.388741"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 113], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 113], ["created_at", "2017-09-07 13:13:08.392262"], ["updated_at", "2017-09-07 13:13:08.392262"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.394395"], ["id", 152]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.396277"], ["updated_at", "2017-09-07 13:13:08.396277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 113 LIMIT $3[0m  [["voter_id", 72], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 72], ["voter_type", "User"], ["votable_id", 113], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 72], ["votable_type", "Article"], ["votable_id", 113], ["weight", -1], ["created_at", "2017-09-07 13:13:08.400479"], ["updated_at", "2017-09-07 13:13:08.400479"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 72], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 72], ["created_at", "2017-09-07 13:13:08.403222"], ["updated_at", "2017-09-07 13:13:08.403222"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.404630"], ["id", 153]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 113 LIMIT $3[0m  [["voter_id", 72], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 72], ["id", 70], ["voter_type", "User"], ["votable_id", 113], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 13:13:08.409445"], ["id", 70]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 72], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 113], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.414227"], ["id", 153]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" ORDER BY "recommendation_votes"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.418013"], ["updated_at", "2017-09-07 13:13:08.418013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 114], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 114], ["created_at", "2017-09-07 13:13:08.421038"], ["updated_at", "2017-09-07 13:13:08.421038"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.423787"], ["id", 154]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.428635"], ["updated_at", "2017-09-07 13:13:08.428635"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 114 LIMIT $3[0m  [["voter_id", 73], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 73], ["voter_type", "User"], ["votable_id", 114], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 73], ["votable_type", "Article"], ["votable_id", 114], ["weight", 1], ["created_at", "2017-09-07 13:13:08.432921"], ["updated_at", "2017-09-07 13:13:08.432921"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 73], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 73], ["created_at", "2017-09-07 13:13:08.435738"], ["updated_at", "2017-09-07 13:13:08.435738"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.437095"], ["id", 155]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.441503"], ["updated_at", "2017-09-07 13:13:08.441503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 115], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 115], ["created_at", "2017-09-07 13:13:08.444609"], ["updated_at", "2017-09-07 13:13:08.444609"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.446422"], ["id", 156]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.448085"], ["updated_at", "2017-09-07 13:13:08.448085"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 115 LIMIT $3[0m  [["voter_id", 74], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 74], ["voter_type", "User"], ["votable_id", 115], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 74], ["votable_type", "Article"], ["votable_id", 115], ["weight", 1], ["created_at", "2017-09-07 13:13:08.452298"], ["updated_at", "2017-09-07 13:13:08.452298"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 74], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 74], ["created_at", "2017-09-07 13:13:08.455407"], ["updated_at", "2017-09-07 13:13:08.455407"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.456690"], ["id", 157]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 74], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.463332"], ["updated_at", "2017-09-07 13:13:08.463332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 116], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 116], ["created_at", "2017-09-07 13:13:08.466258"], ["updated_at", "2017-09-07 13:13:08.466258"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.468117"], ["id", 158]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.469935"], ["updated_at", "2017-09-07 13:13:08.469935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 75], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 75], ["created_at", "2017-09-07 13:13:08.472548"], ["updated_at", "2017-09-07 13:13:08.472548"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.474661"], ["id", 159]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 116 LIMIT $3[0m  [["voter_id", 75], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 75], ["voter_type", "User"], ["votable_id", 116], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 75], ["votable_type", "Article"], ["votable_id", 116], ["weight", 1], ["created_at", "2017-09-07 13:13:08.480005"], ["updated_at", "2017-09-07 13:13:08.480005"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 75], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 13:13:08.482880"], ["id", 159]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 75], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.487872"], ["updated_at", "2017-09-07 13:13:08.487872"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 117], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 117], ["created_at", "2017-09-07 13:13:08.491778"], ["updated_at", "2017-09-07 13:13:08.491778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.493524"], ["id", 160]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.495894"], ["updated_at", "2017-09-07 13:13:08.495894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 117 LIMIT $3[0m  [["voter_id", 76], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 76], ["voter_type", "User"], ["votable_id", 117], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 76], ["votable_type", "Article"], ["votable_id", 117], ["weight", -1], ["created_at", "2017-09-07 13:13:08.500020"], ["updated_at", "2017-09-07 13:13:08.500020"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 76], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 76], ["created_at", "2017-09-07 13:13:08.502643"], ["updated_at", "2017-09-07 13:13:08.502643"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.503821"], ["id", 161]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.507285"], ["updated_at", "2017-09-07 13:13:08.507285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 118], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 118], ["created_at", "2017-09-07 13:13:08.516234"], ["updated_at", "2017-09-07 13:13:08.516234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.517965"], ["id", 162]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.519601"], ["updated_at", "2017-09-07 13:13:08.519601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 118 LIMIT $3[0m  [["voter_id", 77], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 77], ["voter_type", "User"], ["votable_id", 118], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 77], ["votable_type", "Article"], ["votable_id", 118], ["weight", -1], ["created_at", "2017-09-07 13:13:08.524519"], ["updated_at", "2017-09-07 13:13:08.524519"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 77], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 77], ["created_at", "2017-09-07 13:13:08.527108"], ["updated_at", "2017-09-07 13:13:08.527108"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.528157"], ["id", 163]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 77], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.532546"], ["updated_at", "2017-09-07 13:13:08.532546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 119], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 119], ["created_at", "2017-09-07 13:13:08.535193"], ["updated_at", "2017-09-07 13:13:08.535193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.537053"], ["id", 164]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.539263"], ["updated_at", "2017-09-07 13:13:08.539263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 78], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 78], ["created_at", "2017-09-07 13:13:08.542321"], ["updated_at", "2017-09-07 13:13:08.542321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":-1}"], ["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.544000"], ["id", 165]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 119 LIMIT $3[0m  [["voter_id", 78], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 78], ["voter_type", "User"], ["votable_id", 119], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 78], ["votable_type", "Article"], ["votable_id", 119], ["weight", -1], ["created_at", "2017-09-07 13:13:08.547994"], ["updated_at", "2017-09-07 13:13:08.547994"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 78], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-2}"], ["updated_at", "2017-09-07 13:13:08.550396"], ["id", 165]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 78], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.554515"], ["updated_at", "2017-09-07 13:13:08.554515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 120], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 120], ["created_at", "2017-09-07 13:13:08.557361"], ["updated_at", "2017-09-07 13:13:08.557361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.559056"], ["id", 166]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.560735"], ["updated_at", "2017-09-07 13:13:08.560735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 79], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 79], ["created_at", "2017-09-07 13:13:08.563118"], ["updated_at", "2017-09-07 13:13:08.563118"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.564691"], ["id", 167]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 120 LIMIT $3[0m  [["voter_id", 79], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 79], ["voter_type", "User"], ["votable_id", 120], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 79], ["votable_type", "Article"], ["votable_id", 120], ["weight", 1], ["created_at", "2017-09-07 13:13:08.569507"], ["updated_at", "2017-09-07 13:13:08.569507"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 79], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":2}"], ["updated_at", "2017-09-07 13:13:08.572999"], ["id", 167]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 120 LIMIT $3[0m  [["voter_id", 79], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 77]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 79], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 120], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.579994"], ["id", 167]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "recommendation_votes"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.583183"], ["updated_at", "2017-09-07 13:13:08.583183"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 121], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 121], ["created_at", "2017-09-07 13:13:08.585682"], ["updated_at", "2017-09-07 13:13:08.585682"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.587406"], ["id", 168]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.589087"], ["updated_at", "2017-09-07 13:13:08.589087"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 80], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 80], ["created_at", "2017-09-07 13:13:08.591452"], ["updated_at", "2017-09-07 13:13:08.591452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 13:13:08.593039"], ["id", 169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 121 LIMIT $3[0m  [["voter_id", 80], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 80], ["voter_type", "User"], ["votable_id", 121], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 80], ["votable_type", "Article"], ["votable_id", 121], ["weight", 1], ["created_at", "2017-09-07 13:13:08.597310"], ["updated_at", "2017-09-07 13:13:08.597310"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 80], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 13:13:08.600062"], ["id", 169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 121 LIMIT $3[0m  [["voter_id", 80], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 78]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 80], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 121], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 13:13:08.606740"], ["id", 169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 80], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.611033"], ["updated_at", "2017-09-07 13:13:08.611033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 122], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 122], ["created_at", "2017-09-07 13:13:08.613578"], ["updated_at", "2017-09-07 13:13:08.613578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.615246"], ["id", 170]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.617042"], ["updated_at", "2017-09-07 13:13:08.617042"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 81], ["created_at", "2017-09-07 13:13:08.619886"], ["updated_at", "2017-09-07 13:13:08.619886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":5}"], ["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 13:13:08.621730"], ["id", 171]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 122 LIMIT $3[0m  [["voter_id", 81], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 81], ["voter_type", "User"], ["votable_id", 122], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 81], ["votable_type", "Article"], ["votable_id", 122], ["weight", -1], ["created_at", "2017-09-07 13:13:08.627054"], ["updated_at", "2017-09-07 13:13:08.627054"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":4}"], ["updated_at", "2017-09-07 13:13:08.631236"], ["id", 171]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 122 LIMIT $3[0m  [["voter_id", 81], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 79]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 122], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":5}"], ["updated_at", "2017-09-07 13:13:08.637818"], ["id", 171]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 122 LIMIT $3[0m  [["voter_id", 81], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 81], ["voter_type", "User"], ["votable_id", 122], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 81], ["votable_type", "Article"], ["votable_id", 122], ["weight", 1], ["created_at", "2017-09-07 13:13:08.643005"], ["updated_at", "2017-09-07 13:13:08.643005"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":6}"], ["updated_at", "2017-09-07 13:13:08.645489"], ["id", 171]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 81], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.649544"], ["updated_at", "2017-09-07 13:13:08.649544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 123], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 123], ["created_at", "2017-09-07 13:13:08.651994"], ["updated_at", "2017-09-07 13:13:08.651994"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.653754"], ["id", 172]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.655497"], ["updated_at", "2017-09-07 13:13:08.655497"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 82], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 82], ["created_at", "2017-09-07 13:13:08.657736"], ["updated_at", "2017-09-07 13:13:08.657736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 123 LIMIT $3[0m  [["voter_id", 82], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 82], ["voter_type", "User"], ["votable_id", 123], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 82], ["votable_type", "Article"], ["votable_id", 123], ["weight", 1], ["created_at", "2017-09-07 13:13:08.661881"], ["updated_at", "2017-09-07 13:13:08.661881"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 82], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.664285"], ["id", 173]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 123 LIMIT $3[0m  [["voter_id", 82], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 81]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 82], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 123], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 13:13:08.670803"], ["id", 173]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.674009"], ["updated_at", "2017-09-07 13:13:08.674009"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 124], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 124], ["created_at", "2017-09-07 13:13:08.676550"], ["updated_at", "2017-09-07 13:13:08.676550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.678030"], ["id", 174]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.679527"], ["updated_at", "2017-09-07 13:13:08.679527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 83], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 83], ["created_at", "2017-09-07 13:13:08.681666"], ["updated_at", "2017-09-07 13:13:08.681666"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 124 LIMIT $3[0m  [["voter_id", 83], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 83], ["voter_type", "User"], ["votable_id", 124], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 83], ["votable_type", "Article"], ["votable_id", 124], ["weight", -1], ["created_at", "2017-09-07 13:13:08.686270"], ["updated_at", "2017-09-07 13:13:08.686270"]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 83], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.689584"], ["id", 175]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 124 LIMIT $3[0m  [["voter_id", 83], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "recommendation_votes" WHERE "recommendation_votes"."id" = $1[0m  [["id", 82]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 83], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 124], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{}"], ["updated_at", "2017-09-07 13:13:08.696444"], ["id", 175]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.699149"], ["updated_at", "2017-09-07 13:13:08.699149"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 125], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 125], ["created_at", "2017-09-07 13:13:08.701646"], ["updated_at", "2017-09-07 13:13:08.701646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.703201"], ["id", 176]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.704766"], ["updated_at", "2017-09-07 13:13:08.704766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.706022"], ["updated_at", "2017-09-07 13:13:08.706022"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 125 LIMIT $3[0m  [["voter_id", 85], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 85], ["voter_type", "User"], ["votable_id", 125], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 85], ["votable_type", "Article"], ["votable_id", 125], ["weight", 1], ["created_at", "2017-09-07 13:13:08.709870"], ["updated_at", "2017-09-07 13:13:08.709870"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 85], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 85], ["created_at", "2017-09-07 13:13:08.712317"], ["updated_at", "2017-09-07 13:13:08.712317"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.713361"], ["id", 177]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 125 LIMIT $3[0m  [["voter_id", 84], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 84], ["voter_type", "User"], ["votable_id", 125], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 84], ["votable_type", "Article"], ["votable_id", 125], ["weight", -1], ["created_at", "2017-09-07 13:13:08.717195"], ["updated_at", "2017-09-07 13:13:08.717195"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 84], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 84], ["created_at", "2017-09-07 13:13:08.719665"], ["updated_at", "2017-09-07 13:13:08.719665"]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.720705"], ["id", 178]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 125 LIMIT $3[0m  [["voter_id", 84], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 84], ["id", 84], ["voter_type", "User"], ["votable_id", 125], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", 1], ["updated_at", "2017-09-07 13:13:08.725118"], ["id", 84]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 84], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 125], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.728582"], ["id", 178]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 85], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 84], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Race Cars - A Complete Guide"], ["created_at", "2017-09-07 13:13:08.736353"], ["updated_at", "2017-09-07 13:13:08.736353"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 126], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "Article"], ["recommendable_id", 126], ["created_at", "2017-09-07 13:13:08.739476"], ["updated_at", "2017-09-07 13:13:08.739476"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "static_tags" = $1, "tags_cache" = $2, "updated_at" = $3 WHERE "recommendation_documents"."id" = $4[0m  [["static_tags", "{\"tag1\":1}"], ["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.741672"], ["id", 179]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.743462"], ["updated_at", "2017-09-07 13:13:08.743462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "A. Person"], ["created_at", "2017-09-07 13:13:08.744651"], ["updated_at", "2017-09-07 13:13:08.744651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 126 LIMIT $3[0m  [["voter_id", 87], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 87], ["voter_type", "User"], ["votable_id", 126], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 87], ["votable_type", "Article"], ["votable_id", 126], ["weight", -1], ["created_at", "2017-09-07 13:13:08.748885"], ["updated_at", "2017-09-07 13:13:08.748885"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 87], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 87], ["created_at", "2017-09-07 13:13:08.751388"], ["updated_at", "2017-09-07 13:13:08.751388"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.752630"], ["id", 180]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.3ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 126 LIMIT $3[0m  [["voter_id", 86], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_id" = $3 AND "recommendation_votes"."votable_type" = $4 LIMIT $5[0m  [["voter_id", 86], ["voter_type", "User"], ["votable_id", 126], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "recommendation_votes" ("voter_type", "voter_id", "votable_type", "votable_id", "weight", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["voter_type", "User"], ["voter_id", 86], ["votable_type", "Article"], ["votable_id", 126], ["weight", 1], ["created_at", "2017-09-07 13:13:08.756842"], ["updated_at", "2017-09-07 13:13:08.756842"]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 86], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "recommendation_documents" ("recommendable_type", "recommendable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["recommendable_type", "User"], ["recommendable_id", 86], ["created_at", "2017-09-07 13:13:08.759292"], ["updated_at", "2017-09-07 13:13:08.759292"]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":1}"], ["updated_at", "2017-09-07 13:13:08.760415"], ["id", 181]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Vote Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_votes".* FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND "recommendation_votes"."voter_type" = $2 AND "recommendation_votes"."votable_type" = 'Article' AND "recommendation_votes"."votable_id" = 126 LIMIT $3[0m  [["voter_id", 86], ["voter_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT  "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mRecommendation::Vote Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "recommendation_votes" WHERE "recommendation_votes"."voter_id" = $1 AND ("recommendation_votes"."id" != $2) AND "recommendation_votes"."voter_type" = $3 AND "recommendation_votes"."votable_id" = $4 AND "recommendation_votes"."votable_type" = $5 LIMIT $6[0m  [["voter_id", 86], ["id", 86], ["voter_type", "User"], ["votable_id", 126], ["votable_type", "Article"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "recommendation_votes" SET "weight" = $1, "updated_at" = $2 WHERE "recommendation_votes"."id" = $3[0m  [["weight", -1], ["updated_at", "2017-09-07 13:13:08.764352"], ["id", 86]]
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 86], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 126], ["recommendable_type", "Article"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "recommendation_documents" SET "tags_cache" = $1, "updated_at" = $2 WHERE "recommendation_documents"."id" = $3[0m  [["tags_cache", "{\"tag1\":-1}"], ["updated_at", "2017-09-07 13:13:08.768123"], ["id", 181]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRecommendation::Document Load (0.1ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 87], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[36mRecommendation::Document Load (0.2ms)[0m  [1m[34mSELECT  "recommendation_documents".* FROM "recommendation_documents" WHERE "recommendation_documents"."recommendable_id" = $1 AND "recommendation_documents"."recommendable_type" = $2 LIMIT $3[0m  [["recommendable_id", 86], ["recommendable_type", "User"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
